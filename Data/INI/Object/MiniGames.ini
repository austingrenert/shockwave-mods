;------------------------------------------------------------------------------
Object GLAInfantryMiniGameWorker

  ; *** ART Parameters ***
  SelectPortrait         = SUWorker_L
  ButtonImage            = SUWorker
  
  UpgradeCameo1 = Upgrade_GLAWorkerShoes
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model         = UIWRKR_SKN
      IdleAnimation = UIWRKR_SKL.UIWRKR_STA 0 9
      IdleAnimation = UIWRKR_SKL.UIWRKR_IDA
      AnimationMode = ONCE
      TransitionKey = TRANS_Stand
      HideSubObject = OMGL33TSHOES
    End

    ConditionState  = MOVING
      Animation     = UIWRKR_SKL.UIWRKR_RNA 16
      AnimationMode = LOOP
      Flags         = RANDOMSTART
      TransitionKey = TRANS_Moving
      ParticleSysBone = None InfantryDustTrails
    End
    ; it is legal to be ACTIVELY_CONSTRUCTING and MOVING at the same time,
    ; since we flip the bit once we get pretty close to the target. but it looks
    ; funky to do the construction animation while moving. 
    ; so just use the normal move animation in that case.
    AliasConditionState = ACTIVELY_CONSTRUCTING MOVING

    ConditionState = ATTACKING
      Animation = UIWRKR_SKL.UIWRKR_BDA
      AnimationMode = LOOP
      TransitionKey = TRANS_MetalDetector_Standing
    End

    TransitionState = TRANS_Stand TRANS_MetalDetector_Standing    ;STANDING -> ATTACKING
      Animation     = UIWRKR_SKL.UIWRKR_TRA1
      AnimationMode = ONCE
    End
    TransitionState = TRANS_MetalDetector_Standing TRANS_Stand    ;ATTACKING -> STANDING
      Animation     = UIWRKR_SKL.UIWRKR_TRA2
      AnimationMode = ONCE
    End

    ConditionState = DYING
      Animation = UIWRKR_SKL.UIWRKR_DTA
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIWRKR_SKL.UIWRKR_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIWRKR_SKL.UIWRKR_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIWRKR_SKL.UIWRKR_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState  = SPECIAL_CHEERING
      Animation     = UIWRKR_SKL.UIWRKR_CHA
      AnimationMode = ONCE
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Worker
  Side = GLA
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)


  WeaponSet
    Conditions = None 
    Weapon = PRIMARY WorkerHammerWeapon
  End

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 100
  ShroudClearingRange = 200

  BuildCost = 200
  BuildTime = 3.0          ;in seconds    
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GLAWorkerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = WorkerVoiceSelect
  VoiceMove = WorkerVoiceMove
  VoiceAttack = WorkerVoiceMove
  VoiceGuard = WorkerVoiceMove
  VoiceFear = WorkerVoiceFear
  VoiceTaskComplete = WorkerVoiceBuildComplete
  UnitSpecificSounds
    VoiceEnter        = WorkerVoiceMoveUpgraded
    VoiceEnterHostile = WorkerVoiceMoveUpgraded
    VoiceGarrison     = WorkerVoiceGarrison
    VoiceCreate       = WorkerVoiceCreate
    VoiceSupply       = WorkerVoiceSupply
    VoiceNoBuild      = WorkerVoiceBuildNot
    VoiceRepair       = WorkerVoiceRepair
    VoiceDisarm       = WorkerVoiceClearMine
    VoiceBuildResponse = WorkerVoiceBuild
    VoiceGetHealed    = WorkerVoiceMoveUpgraded
    VoiceMoveUpgraded = WorkerVoiceMoveUpgraded
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SALVAGER DOZER HARVESTER SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL FastHumanLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_WorkerDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_WorkerDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireGLA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
  Behavior = SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
    DeathTypes          = NONE +EXTRA_2
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireGLA
    OCL                 = INITIAL OCL_MicrowavedInfantry 
  End
  Behavior = SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
    DeathTypes          = NONE +EXTRA_4
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    OCL                 = INITIAL OCL_BrutalBloodyDeathBits
    FX                  = INITIAL FX_InfantryGoreExplosion
  End
  Behavior = SlowDeathBehavior ModuleTag_036 ;Gore death explosion
    DeathTypes          = NONE +EXTRA_5
    ProbabilityModifier = 30
    DestructionDelay    = 0
    OCL                 = INITIAL OCL_BloodyGoreExplosion
    FX                  = FINAL   FX_InfantryGoreExplosion
  End
  Behavior = SlowDeathBehavior ModuleTag_Death0323
    DeathTypes          = NONE +EXTRA_5
    ProbabilityModifier = 70
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_WorkerDie
    OCL                 = INITIAL OCL_BrutalBloodyDeathBits
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
    DeathTypes          = NONE +EXTRA_6
    DestructionDelay    = 0
    OCL                 = INITIAL OCL_RadiationDeathInfantry
    FX                  = INITIAL FX_GIDieRadiation
    FX                  = FINAL   FX_DieByToxinGLA
  End
  Behavior = SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
    DeathTypes          = NONE +EXTRA_7
    DestructionDelay    = 0
    OCL                 = INITIAL OCL_NeutronRadiationDeathInfantry
    FX                  = INITIAL FX_GIDieRadiation
    FX                  = FINAL   FX_DieByToxinGLA
  End

; --- end Death modules ---

  Behavior = StealthDetectorUpdate ModuleTag_12
    DetectionRate         = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange       = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
    ExtraRequiredKindOf   = MINE  ; we can only detect MINES, not other stealthed things
  End

  Behavior = PoisonedBehavior ModuleTag_13
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = CommandSetUpgrade ModuleTag_14
    TriggeredBy = Upgrade_GLAWorkerFakeCommandSet
    RemovesUpgrades = Upgrade_GLAWorkerRealCommandSet
    CommandSet = GLAWorkerFakeBuildingsCommandSet
  End
 
  Behavior = CommandSetUpgrade ModuleTag_15
    TriggeredBy = Upgrade_GLAWorkerRealCommandSet
    RemovesUpgrades = Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
    CommandSet = GLAWorkerCommandSet
  End
 
  Behavior = ProductionUpdate ModuleTag_16
    MaxQueueEntries = 1; For the command set switching upgrade
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object ToxinTractorRepairCrate_InvisibleMarkerOld
  ; ***DESIGN parameters ***
  VisionRange     = 0.0
  EditorSorting   = SYSTEM

  Draw = W3DModelDraw ModuleTag_NOTREALLYADRAW
    DefaultConditionState
      Model = None
      ParticleSysBone = None GPSRotisserie
      ParticleSysBone = None RepairCloud
    End
  End

  KindOf = NO_COLLIDE PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE
  ; *** ENGINEERING Parameters ***
  Body = ImmortalBody ModuleTag_01
    MaxHealth = 1    
    InitialHealth = 1
  End

  Behavior = AutoHealBehavior ModuleTag_02
    HealingAmount     = 115
    HealingDelay      = 4
    Radius            = 10.0f
    StartsActive      = Yes
    KindOf            = VEHICLE
    SingleBurst       = Yes
  End

  Behavior = DeletionUpdate ModuleTag_03
    MinLifetime = 5
    MaxLifetime = 5   
  End
End

;------------------------------------------------------------------------------
Object ToxinTractorRepairCrate_InvisibleMarker

  ; *** ART Parameters ***
  SelectPortrait         = SAHummer_L
  ButtonImage            = SAHummer
  
  UpgradeCameo1 = Upgrade_AmericaBattleDrone
  UpgradeCameo2 = Upgrade_AmericaScoutDrone
  UpgradeCameo3 = Upgrade_AmericaHellfireDrone
  UpgradeCameo4 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo5 = Upgrade_AmericaTOWMissile
  
  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ConditionState = NONE
      Model = AVHUMMER
      Turret = Turret
      ShowSubObject = Turret
      HideSubObject = TurretUp01 Housecolor03 MuzzleFXUP01
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
    End

    ConditionState = REALLYDAMAGED
      Model = AVHUMMER_d
      Turret = Turret
      ShowSubObject = Turret
      HideSubObject = TurretUp01 Housecolor03 MuzzleFXUP01
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = AVHUMMER
      Turret = TurretUp01
      HideSubObject = Turret MuzzleFX01
      ShowSubObject = TurretUp01 Housecolor03
      WeaponFireFXBone = PRIMARY MuzzleUp
      WeaponMuzzleFlash = PRIMARY MuzzleFXUp
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
      WeaponFireFXBone = TERTIARY WeaponB
      WeaponLaunchBone = TERTIARY WeaponB
    End

    ConditionState = REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
      Model = AVHUMMER_d
      Turret = TurretUp01
      HideSubObject = Turret MuzzleFX01
      ShowSubObject = TurretUp01 Housecolor03
      WeaponFireFXBone = PRIMARY MuzzleUp
      WeaponMuzzleFlash = PRIMARY MuzzleFXUp
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
      WeaponFireFXBone = TERTIARY WeaponB
      WeaponLaunchBone = TERTIARY WeaponB
    End

    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 1.25   ; This speed is added to the rotation speed when powersliding.

  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:Humvee
  Side                  = America
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY HumveeGun
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon = PRIMARY HumveeGun
    Weapon = SECONDARY HumveeMissileWeapon
    Weapon = TERTIARY HumveeMissileWeaponAir
    PreferredAgainst = TERTIARY     AIRCRAFT
  End
  ArmorSet
    Conditions      = None
    Armor           = HumveeArmor
    DamageFX        = TruckDamageFX
  End
  BuildCost       = 700
  BuildTime       = 10.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 320
  Prerequisites
    Object = AmericaWarFactory
  End
  ExperienceValue = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = AmericaVehicleHumveeCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = HumveeVoiceSelect
  VoiceMove = HumveeVoiceMove
  VoiceGuard = HumveeVoiceMove
  VoiceAttack = HumveeVoiceAttack
  VoiceAttackAir = HumveeVoiceAttackTOW
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    ;TurretMoveStart    = NoSound
    VoiceCreate         = HumveeVoiceCreate
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = HumveeVoiceCrush
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceUnload = HumveeVoiceUnload
    VoiceEnter = HumveeVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 180
      RecenterTime = 5000   ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
  Locomotor = SET_NORMAL HumveeLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  Behavior = TransportContain  ModuleTag_05
    PassengersAllowedToFire = Yes
    Slots             = 5
;    EnterSound          = GarrisonEnter
;    ExitSound           = GarrisonExit
    DamagePercentToUnits = 100% ;10%
    AllowInsideKindOf  = INFANTRY
    ExitDelay = 250
    NumberOfExitPaths = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End

  Behavior = ObjectCreationUpgrade ModuleTag_06
    UpgradeObject = OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_14
    UpgradeObject = OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End

  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = WeaponSetUpgrade ModuleTag_09
    TriggeredBy = Upgrade_AmericaTOWMissile
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_10
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 1
    OCL = INITIAL  OCL_InitialHumveeDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
    OCL = FINAL    OCL_FinalHumveeDebris
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

; This is commented out per hotlist request 10/9 ML
;  Behavior = CreateObjectDie ModuleTag_15
;    DeathTypes = ALL -CRUSHED -SPLATTED
;    CreationList = OCL_AmericanRangerDebris01
;    ExemptStatus = HIJACKED
;  End

  Behavior = EjectPilotDie ModuleTag_16
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    ; The following added out per hotlist request 10/9 as above ML
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5     
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

  Behavior = AutoHealBehavior ModuleTag_meh
    HealingAmount     = 115
    HealingDelay      = 4
    Radius            = 100.0f
    StartsActive      = Yes
    KindOf            = VEHICLE
    SingleBurst       = Yes
  End

  Behavior = DeletionUpdate ModuleTag_meh2
    MinLifetime = 5
    MaxLifetime = 5   
  End

End


; -----------------------------------------------------------------------------
Object ToxinTractorRepairCrate
  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = AVMedivac_C
    End
  End

  Draw = W3DModelDraw ModuleTag_ParachutePlate01
  
    DefaultConditionState
      Model             = NONE
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
  
    ConditionState = FREEFALL
      Model             = EXParaPlate
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL RUBBLE
    AliasConditionState = PARACHUTING
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING RUBBLE
    
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Crate
  EditorSorting   = MISC_MAN_MADE


  ; *** ENGINEERING Parameters ***  
  KindOf = PARACHUTABLE CRATE 
  Behavior = UnitCrateCollide ModuleTag_02
    ForbiddenKindOf = PROJECTILE
    HumanOnly = Yes
    ExecuteFX = FX_CratePickup
    UnitCount = 1
    UnitName = ToxinTractorRepairCrate_InvisibleMarker
  End
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End
  Shadow              = SHADOW_VOLUME
  Geometry = BOX
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 6.0     
  GeometryIsSmall = Yes    

End

;------------------------------------------------------------------------------
Object ToxinTractorHealCrateSpawner
  ; ***DESIGN parameters ***
  VisionRange     = 0.0
  EditorSorting   = SYSTEM

  Draw = W3DModelDraw ModuleTag_NOTREALLYADRAW
    DefaultConditionState
      Model = None
    End
  End

  KindOf = NO_COLLIDE IMMOBILE UNATTACKABLE

  ; *** ENGINEERING Parameters ***
  Body = ImmortalBody ModuleTag_01
    MaxHealth = 1    
    InitialHealth = 1
  End

  Behavior = DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me. 
    MinLifetime = 20
    MaxLifetime = 20   
  End

  Behavior       = OCLUpdate ModuleTag_0211
    OCL          = MINIGAME_HealthCrateSpawner
    MinDelay     = 15
    MaxDelay     = 15
  End

End

;------------------------------------------------------------------------------
Object ToxinTractorHealCrateSpawnerTwo
  ; ***DESIGN parameters ***
  VisionRange     = 0.0
  EditorSorting   = SYSTEM

  Draw = W3DModelDraw ModuleTag_NOTREALLYADRAW
    DefaultConditionState
      Model = None
    End
  End

  KindOf = NO_COLLIDE IMMOBILE UNATTACKABLE

  ; *** ENGINEERING Parameters ***
  Body = ActiveBody ModuleTag_01
    MaxHealth = 1
    InitialHealth = 1
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 2.0
  End

  Behavior = CreateObjectDie ModuleTag_06
    CreationList = MINIGAME_HealthCrateParachute
  End

  Behavior = HeightDieUpdate ModuleTag_07
    TargetHeight                    = 5.0
    TargetHeightIncludesStructures  = No
    OnlyWhenMovingDown              = Yes
    SnapToGroundOnDeath             = Yes
    InitialDelay                    = 1000 ; Can't explode in the first second so we don't explode on the pad
  End

  Behavior = DestroyDie ModuleTag_08
    ;nothing
  End

End

Object MiniGameGenericTree

  ; *** ART Parameters ***
  Draw                  = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model             = PTDogwod01
    End
    ConditionState      = AFLAME ;Currently on fire
      Model             = PTDogwod01
      ParticleSysBone   = AFlame01 FireTreeSmall
      ParticleSysBone   = AFlame01 SmoulderTree1
      ParticleSysBone   = AFlame01 FireTreeSparks
    End
    ConditionState      = AFLAME SMOLDERING ;at the end of on fire, still has flames, but skeleton is burned
      Model             = PTDogwod01_B
      ParticleSysBone   = AFlame01 FireTreeSmaller
      ParticleSysBone   = AFlame01 SmoulderTree1
      ParticleSysBone   = AFlame01 FireTreeSparks
    End
    ConditionState      = SMOLDERING; will never catch fire again.  burned out
      Model             = PTDogwod01_B
      ParticleSysBone   = AFlame01 SmoulderTree2
      ParticleSysBone   = AFlame01 SmoulderTree3
    End
    ConditionState      = BURNED; all burned and black and no effects
      Model             = PTDogwod01_B
    End    
    ConditionState      = RUBBLE; all burned and black and no effects
      Model             = PTDogwod01_B
    End  
  End

  ; *** DESIGN parameters ***
  DisplayName      = OBJECT:DogwoodTree
  EditorSorting    = SHRUBBERY
  CrushableLevel   = 5

  ArmorSet
    Conditions      = None
    Armor           = TreeArmor
  End

  ; *** ENGINEERING parameters ***
  KindOf           = SHRUBBERY IMMOBILE IGNORED_IN_GUI
  ExperienceValue = 10 10 10 10
  Body = ActiveBody ModuleTag_10 ;Can take damage, but won't die.  Can only die from ::kill() or other unresistable damage
    MaxHealth      = 1.0
    InitialHealth  = 1.0
  End
  Behavior = FireWeaponCollide ModuleTag_03
    CollideWeapon  = TreeFireDealDamageWeapon
    RequiredStatus = AFLAME       ; I can only fire if I am on fire
  End
  Behavior = FlammableUpdate ModuleTag_05
    FlameDamageLimit = 2
    FlameDamageExpiration = 0
    BurnedDelay      = 2500
    AflameDuration   = 3500
    BurningSoundName = GenericFireMediumLoop
  End
  Behavior = FireSpreadUpdate ModuleTag_06
    OCLEmbers        = OCL_BurningEmbers
    MinSpreadDelay   = 1000
    MaxSpreadDelay   = 2000
    SpreadTryRange   = 50 ; A non-zero entry means fires will be set explicitly without relying on embers
                          ; The closest flammable thing will be set on fire automatically.
  End

  ClientUpdate = SwayClientUpdate ModuleTag_07
    ;nothing
  End

  Behavior = ToppleUpdate ModuleTag_08
    ToppleFX         = FX_ToppleTree
    BounceFX         = FX_TreeBounce
    StumpName        = TreeSpruceStump
  End
  Behavior = SlowDeathBehavior ModuleTag_09
    DeathTypes = NONE +TOPPLED
    SinkRate          = 2     ; in Dist/Sec
    SinkDelay         = 14000
    DestructionDelay  = 20000
  End

  Geometry            = CYLINDER
  GeometryIsSmall     = Yes
  GeometryMajorRadius = 4.0
  GeometryHeight      = 15
  Shadow              = SHADOW_DECAL
  InstanceScaleFuzziness = 0.1
  
End

;------------------------------------------------------------------------------
ObjectReskin BlehOakFall4 MiniGameGenericTree

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = PTOakFall4
    End
    ; ConditionState placeholders
    ConditionState      = AFLAME ;Currently on fire
      Model             = PTOakFall4
      ParticleSysBone   = AFlame01 FireTreeSmall
      ParticleSysBone   = AFlame01 SmoulderTree1
      ParticleSysBone   = AFlame01 FireTreeSparks
    End
    ConditionState      = AFLAME SMOLDERING ;at the end of on fire, still has flames, but skeleton is burned
      Model             = PTDogwod01_B
      ParticleSysBone   = AFlame01 FireTreeSmaller
      ParticleSysBone   = AFlame01 SmoulderTree1
      ParticleSysBone   = AFlame01 FireTreeSparks
    End
    ConditionState      = SMOLDERING; will never catch fire again.  burned out
      Model             = PTDogwod01_B
      ParticleSysBone   = AFlame01 SmoulderTree2
      ParticleSysBone   = AFlame01 SmoulderTree3
    End
    ConditionState      = BURNED; all burned and black and no effects
      Model             = PTDogwod01_B
    End 
  End

  Geometry = CYLINDER
  GeometryIsSmall = Yes
  GeometryMajorRadius = 3.0
  GeometryHeight = 15

End

;------------------------------------------------------------------------------
ObjectReskin BlehDogwood6 MiniGameGenericTree

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = PTDogwod06
    End
    ; ConditionState placeholders
    ConditionState      = AFLAME ;Currently on fire
      Model             = PTDogwod06
      ParticleSysBone   = AFlame01 FireTreeSmall
      ParticleSysBone   = AFlame01 SmoulderTree1
      ParticleSysBone   = AFlame01 FireTreeSparks
    End
    ConditionState      = AFLAME SMOLDERING ;at the end of on fire, still has flames, but skeleton is burned
      Model             = PTDogwod03_B
      ParticleSysBone   = AFlame01 FireTreeSmaller
      ParticleSysBone   = AFlame01 SmoulderTree1
      ParticleSysBone   = AFlame01 FireTreeSparks
    End
    ConditionState      = SMOLDERING; will never catch fire again.  burned out
      Model             = PTDogwod03_B
      ParticleSysBone   = AFlame01 SmoulderTree2
      ParticleSysBone   = AFlame01 SmoulderTree3
    End
    ConditionState = BURNED; all burned and black and no effects
      Model         = PTDogwod03_B
    End 
  End

  Geometry = CYLINDER
  GeometryIsSmall = Yes
  GeometryMajorRadius = 3.0
  GeometryHeight = 15
;  Shadow = SHADOW_DECAL
;  InstanceScaleFuzziness = 0.1

End

;------------------------------------------------------------------------------
ObjectReskin BlehDogwood3 MiniGameGenericTree

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = PTDogwod03
    End
    ; ConditionState placeholders
    ConditionState      = AFLAME ;Currently on fire
      Model             = PTDogwod03
      ParticleSysBone   = AFlame01 FireTreeSmall
      ParticleSysBone   = AFlame01 SmoulderTree1
      ParticleSysBone   = AFlame01 FireTreeSparks
    End
    ConditionState      = AFLAME SMOLDERING ;at the end of on fire, still has flames, but skeleton is burned
      Model             = PTDogwod03_B
      ParticleSysBone   = AFlame01 FireTreeSmaller
      ParticleSysBone   = AFlame01 SmoulderTree1
      ParticleSysBone   = AFlame01 FireTreeSparks
    End
    ConditionState      = SMOLDERING; will never catch fire again.  burned out
      Model             = PTDogwod03_B
      ParticleSysBone   = AFlame01 SmoulderTree2
      ParticleSysBone   = AFlame01 SmoulderTree3
    End
    ConditionState = BURNED; all burned and black and no effects
      Model         = PTDogwod03_B
    End 
  End

  Geometry = CYLINDER
  GeometryIsSmall = Yes
  GeometryMajorRadius = 3.0
  GeometryHeight = 15
;  Shadow = SHADOW_DECAL
;  InstanceScaleFuzziness = 0.1

End

;------------------------------------------------------------------------------
ObjectReskin BlehOak01 MiniGameGenericTree

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = PTXOAK01
    End
    ; ConditionState placeholders
    ConditionState      = AFLAME ;Currently on fire
      Model             = PTXOAK01
      ParticleSysBone   = AFlame01 FireTreeSmall
      ParticleSysBone   = AFlame01 SmoulderTree1
      ParticleSysBone   = AFlame01 FireTreeSparks
    End
    ConditionState      = AFLAME SMOLDERING ;at the end of on fire, still has flames, but skeleton is burned
      Model             = PTXOAK02_B
      ParticleSysBone   = AFlame01 FireTreeSmaller
      ParticleSysBone   = AFlame01 SmoulderTree1
      ParticleSysBone   = AFlame01 FireTreeSparks
    End
    ConditionState      = SMOLDERING; will never catch fire again.  burned out
      Model             = PTXOAK02_B
      ParticleSysBone   = AFlame01 SmoulderTree2
      ParticleSysBone   = AFlame01 SmoulderTree3
    End
    ConditionState      = BURNED; all burned and black and no effects
      Model             = PTXOAK02_B
    End 
  End

  Geometry = CYLINDER
  GeometryIsSmall = Yes
  GeometryMajorRadius = 3.0
  GeometryHeight = 15
;  Shadow = SHADOW_DECAL
;  InstanceScaleFuzziness = 0.1

End

;------------------------------------------------------------------------------
ObjectReskin BlehMaple06 MiniGameGenericTree

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = PTXMaple06
    End
    ; ConditionState placeholders
    ConditionState      = AFLAME ;Currently on fire
      Model             = PTXMaple06
      ParticleSysBone   = AFlame01 FireTreeSmall
      ParticleSysBone   = AFlame01 SmoulderTree1
      ParticleSysBone   = AFlame01 FireTreeSparks
    End
    ConditionState      = AFLAME SMOLDERING ;at the end of on fire, still has flames, but skeleton is burned
      Model             = PTXMaple01_B
      ParticleSysBone   = AFlame01 FireTreeSmaller
      ParticleSysBone   = AFlame01 SmoulderTree1
      ParticleSysBone   = AFlame01 FireTreeSparks
    End
    ConditionState      = SMOLDERING; will never catch fire again.  burned out
      Model             = PTXMaple01_B
      ParticleSysBone   = AFlame01 SmoulderTree2
      ParticleSysBone   = AFlame01 SmoulderTree3
    End
    ConditionState      = BURNED; all burned and black and no effects
      Model             = PTXMaple01_B
    End 
  End

  Geometry = CYLINDER
  GeometryIsSmall = Yes
  GeometryMajorRadius = 3.0
  GeometryHeight = 15
;  Shadow = SHADOW_DECAL
;  InstanceScaleFuzziness = 0.1

End

;------------------------------------------------------------------------------
Object MiniGamePoliceCar

  Draw = W3DPoliceCarDraw ModuleTag_01
    DefaultConditionState
      Model = CVPoliceCar
      Animation = CVPoliceCar.CVPoliceCar
      AnimationMode = LOOP
    End
    ConditionState = FRONTCRUSHED BACKCRUSHED
      Model = CVPoliceCar_d
    End
    ConditionState = BACKCRUSHED
      Model = CVPoliceCar_d2
    End
    ConditionState = FRONTCRUSHED
      Model = CVPoliceCar_d1
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:PoliceCar
  EditorSorting   = VEHICLE

  TransportSlotCount  = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY TroopCrawlerAssault
  End
  ArmorSet
    Armor           = TruckArmor
    DamageFX        = CrushableCarDamageFX
  End
  ExperienceValue = 50 50 100 150
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  ; *** AUDIO Parameters ***
  SoundMoveStart = CarMoveStart
  SoundAmbient = PoliceCarSirenLoop


  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE CAN_ATTACK VEHICLE TRANSPORT

  Body            = ActiveBody ModuleTag_02
    MaxHealth       = 200.0
    InitialHealth   = 200.0
  End

  Behavior = DestroyDie ModuleTag_03
    DeathTypes = ALL -CRUSHED -SPLATTED
  End
  Behavior = CrushDie ModuleTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    TotalCrushSound     = CarAlarm
    BackEndCrushSound   = CarAlarm
    FrontEndCrushSound  = CarAlarm
    TotalCrushSoundPercent    = 50   
    BackEndCrushSoundPercent  = 50
    FrontEndCrushSoundPercent = 50
  End
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    SinkDelay = 14000
    SinkRate = 2     ; in Dist/Sec
    DestructionDelay = 20000
  End

  Behavior = FXListDie ModuleTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_06
    DeathTypes = ALL -CRUSHED -SPLATTED
    CreationList = OCL_PoliceCarExplode
  End
  Behavior = FXListDie ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED -FLOODED
    DeathFX = FX_PoliceCarExplode
  End

  Behavior = AssaultTransportAIUpdate ModuleTag_032342
  End

  Locomotor = SET_NORMAL BasicCarLocomotor
  Locomotor = SET_WANDER WanderCarLocomotor
  Locomotor = SET_PANIC PanicCarLocomotor

  Behavior = PhysicsBehavior ModuleTag_09
    Mass = 30.0
  End

  Behavior = TransportContain  ModuleTag_052342
    PassengersAllowedToFire = No
    Slots             = 5
    ScatterNearbyOnExit   = No
    InitialPayload = AmericaInfantryOfficer 2
    DamagePercentToUnits = 20%
    AllowInsideKindOf  = INFANTRY
    ExitDelay         = 250
    NumberOfExitPaths = 0 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry        = BOX
  GeometryIsSmall = Yes
  GeometryMajorRadius = 11.0
  GeometryMinorRadius = 4.0
  GeometryHeight  = 9.0
  Shadow          = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object MiniGamePoliceVan

  Draw = W3DPoliceCarDraw ModuleTag_01
    DefaultConditionState
      Model = CVEUROVAN3
      Animation = CVEUROVAN3.CVEUROVAN3
      AnimationMode = LOOP
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:PoliceCar
  EditorSorting   = VEHICLE

  TransportSlotCount  = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY TroopCrawlerAssault
  End
  ArmorSet
    Armor           = TruckArmor
    DamageFX        = CrushableCarDamageFX
  End
  ExperienceValue = 50 50 100 150
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  ; *** AUDIO Parameters ***
  SoundMoveStart = CarMoveStart
  SoundAmbient = PoliceCarSirenLoop


  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE CAN_ATTACK VEHICLE TRANSPORT
  RadarPriority   = LOCAL_UNIT_ONLY

  Body            = ActiveBody ModuleTag_02
    MaxHealth       = 200.0
    InitialHealth   = 200.0
  End

  Behavior = DestroyDie ModuleTag_03
    DeathTypes = ALL -CRUSHED -SPLATTED
  End
  Behavior = CrushDie ModuleTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    TotalCrushSound     = CarAlarm
    BackEndCrushSound   = CarAlarm
    FrontEndCrushSound  = CarAlarm
    TotalCrushSoundPercent    = 50   
    BackEndCrushSoundPercent  = 50
    FrontEndCrushSoundPercent = 50
  End
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    SinkDelay = 14000
    SinkRate = 2     ; in Dist/Sec
    DestructionDelay = 20000
  End

  Behavior = FXListDie ModuleTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_06
    DeathTypes = ALL -CRUSHED -SPLATTED
    CreationList = OCL_PoliceCarExplode
  End
  Behavior = FXListDie ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED -FLOODED
    DeathFX = FX_PoliceCarExplode
  End

  Behavior = AssaultTransportAIUpdate ModuleTag_032342
  End

  Locomotor = SET_NORMAL BasicCarLocomotor
  Locomotor = SET_WANDER WanderCarLocomotor
  Locomotor = SET_PANIC PanicCarLocomotor

  Behavior = PhysicsBehavior ModuleTag_09
    Mass = 30.0
  End

  Behavior = TransportContain  ModuleTag_05234
    PassengersAllowedToFire = No
    Slots             = 5
    ScatterNearbyOnExit   = No
    InitialPayload = AmericaInfantryOfficer 5
    DamagePercentToUnits = 20%
    AllowInsideKindOf  = INFANTRY
    ExitDelay         = 250
    NumberOfExitPaths = 0 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry        = BOX
  GeometryIsSmall = Yes
  GeometryMajorRadius = 11.0
  GeometryMinorRadius = 4.0
  GeometryHeight  = 9.0
  Shadow          = SHADOW_VOLUME

End

;-------------------------------------------------------------------
Object Micro$oftTruck

  Draw = W3DModelDraw ModuleTag_01
    ConditionState = NONE
      Model = CVSoftTrk
    End
    
    ConditionState = REALLYDAMAGED
      Model = CVSoftTrk
    End
    
    ConditionState = RUBBLE
      Model = CVSoftTrk
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:SupplyTruck
  EditorSorting   = VEHICLE
 
  TransportSlotCount  = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY None
  End
 
  ArmorSet
    Armor           = TruckArmor
    DamageFX        = CrushableCarDamageFX
  End
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 1  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = CivilianCarBombCommandSet

  ; *** AUDIO Parameters ***
  SoundMoveStart = CarMoveStart


  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE CAN_ATTACK VEHICLE CAN_BE_REPULSED
  RadarPriority   = UNIT

  Body            = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End



  Behavior = DestroyDie ModuleTag_03
    DeathTypes = ALL -CRUSHED -SPLATTED
  End
  Behavior = CrushDie ModuleTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    TotalCrushSound     = CarAlarm
    BackEndCrushSound   = CarAlarm
    FrontEndCrushSound  = CarAlarm
    TotalCrushSoundPercent    = 50   
    BackEndCrushSoundPercent  = 50
    FrontEndCrushSoundPercent = 50
  End
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    SinkDelay = 14000
    SinkRate = 2     ; in Dist/Sec
    DestructionDelay = 20000
  End

  Behavior = FXListDie ModuleTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_06
    DeathTypes = ALL -CRUSHED -SPLATTED
    CreationList = OCL_GenericCarExplode
  End
  Behavior = FXListDie ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED -FLOODED
    DeathFX = FX_GenericCarExplode
  End
  Behavior = CreateObjectDie ModuleTag_08
    DeathTypes = NONE +SUICIDED
    CreationList = OCL_BurnedCarHull
  End

  Behavior = AIUpdateInterface ModuleTag_09
  End
  Locomotor = SET_NORMAL BasicCarLocomotor
  Locomotor = SET_WANDER WanderCarLocomotor
  Locomotor = SET_PANIC PanicCarLocomotor

  Behavior = PhysicsBehavior ModuleTag_10
    Mass = 30.0
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry        = BOX
  GeometryIsSmall = Yes
  GeometryMajorRadius = 18.0
  GeometryMinorRadius = 8.0
  GeometryHeight  = 10.0
  Shadow          = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object Micro$oftBillboard

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = PMMicroBrd
    End
    ConditionState = DAMAGED
      Model = PMMicroBrd
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Billboard
  EditorSorting   = MISC_MAN_MADE
  KindOf = IMMOBILE CLEARED_BY_BUILD
 
  ; *** ENGINEERING Parameters ***  
  Body            = ActiveBody ModuleTag_02
    MaxHealth       = 1.0
    InitialHealth   = 1.0
  End
  Shadow          = SHADOW_VOLUME
  
  Behavior = ToppleUpdate ModuleTag_03
    ToppleFX = FX_ToppleLampPost
    BounceFX = FX_LampPostBounce
  End
  Behavior = SlowDeathBehavior ModuleTag_04
    DeathTypes = NONE +TOPPLED
    SinkRate          = 2     ; in Dist/Sec
    SinkDelay         = 14000
    DestructionDelay  = 20000
  End
  Behavior = DestroyDie ModuleTag_05
    DeathTypes = ALL -TOPPLED
  End
  
  ; An Explosive Death
  Behavior = FXListDie ModuleTag_10
    DeathTypes = ALL -CRUSHED
    DeathFX = FX_PropExplode
  End
  
  Geometry = BOX
  GeometryMajorRadius = 1.0
  GeometryMinorRadius = 11.0
  GeometryHeight = 1     
  GeometryIsSmall = Yes

End

;------------------------------------------------------------------------------
Object GLAInfantryMiniGameWorkerExtraTough

  ; *** ART Parameters ***
  SelectPortrait         = SUWorker_L
  ButtonImage            = SUWorker
  
  UpgradeCameo1 = Upgrade_GLAWorkerShoes
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model         = UIWRKRKV_SKN
      IdleAnimation = UIWRKR_SKL.UIWRKR_STA 0 9
      IdleAnimation = UIWRKR_SKL.UIWRKR_IDA
      AnimationMode = ONCE
      TransitionKey = TRANS_Stand
      HideSubObject = OMGL33TSHOES
    End

    ConditionState  = MOVING
      Animation     = UIWRKR_SKL.UIWRKR_RNA 16
      AnimationMode = LOOP
      Flags         = RANDOMSTART
      TransitionKey = TRANS_Moving
      ParticleSysBone = None InfantryDustTrails
    End
    ; it is legal to be ACTIVELY_CONSTRUCTING and MOVING at the same time,
    ; since we flip the bit once we get pretty close to the target. but it looks
    ; funky to do the construction animation while moving. 
    ; so just use the normal move animation in that case.
    AliasConditionState = ACTIVELY_CONSTRUCTING MOVING

    ConditionState = ATTACKING
      Animation = UIWRKR_SKL.UIWRKR_BDA
      AnimationMode = LOOP
      TransitionKey = TRANS_MetalDetector_Standing
    End

    TransitionState = TRANS_Stand TRANS_MetalDetector_Standing    ;STANDING -> ATTACKING
      Animation     = UIWRKR_SKL.UIWRKR_TRA1
      AnimationMode = ONCE
    End
    TransitionState = TRANS_MetalDetector_Standing TRANS_Stand    ;ATTACKING -> STANDING
      Animation     = UIWRKR_SKL.UIWRKR_TRA2
      AnimationMode = ONCE
    End

    ConditionState = DYING
      Animation = UIWRKR_SKL.UIWRKR_DTA
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIWRKR_SKL.UIWRKR_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIWRKR_SKL.UIWRKR_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIWRKR_SKL.UIWRKR_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState  = SPECIAL_CHEERING
      Animation     = UIWRKR_SKL.UIWRKR_CHA
      AnimationMode = ONCE
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Worker
  Side = GLA
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)


  WeaponSet
    Conditions = None 
    Weapon = PRIMARY WorkerHammerWeapon
  End

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 100
  ShroudClearingRange = 200

  BuildCost = 200
  BuildTime = 3.0          ;in seconds    
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GLAWorkerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = WorkerVoiceSelect
  VoiceMove = WorkerVoiceMove
  VoiceAttack = WorkerVoiceMove
  VoiceGuard = WorkerVoiceMove
  VoiceFear = WorkerVoiceFear
  VoiceTaskComplete = WorkerVoiceBuildComplete
  UnitSpecificSounds
    VoiceEnter        = WorkerVoiceMoveUpgraded
    VoiceEnterHostile = WorkerVoiceMoveUpgraded
    VoiceGarrison     = WorkerVoiceGarrison
    VoiceCreate       = WorkerVoiceCreate
    VoiceSupply       = WorkerVoiceSupply
    VoiceNoBuild      = WorkerVoiceBuildNot
    VoiceRepair       = WorkerVoiceRepair
    VoiceDisarm       = WorkerVoiceClearMine
    VoiceBuildResponse = WorkerVoiceBuild
    VoiceGetHealed    = WorkerVoiceMoveUpgraded
    VoiceMoveUpgraded = WorkerVoiceMoveUpgraded
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SALVAGER DOZER HARVESTER SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 250.0
    InitialHealth   = 250.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL FastHumanLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_WorkerDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_WorkerDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireGLA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
  Behavior = SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
    DeathTypes          = NONE +EXTRA_2
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireGLA
    OCL                 = INITIAL OCL_MicrowavedInfantry 
  End
  Behavior = SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
    DeathTypes          = NONE +EXTRA_4
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    OCL                 = INITIAL OCL_BrutalBloodyDeathBits
    FX                  = INITIAL FX_InfantryGoreExplosion
  End
  Behavior = SlowDeathBehavior ModuleTag_036 ;Gore death explosion
    DeathTypes          = NONE +EXTRA_5
    ProbabilityModifier = 30
    DestructionDelay    = 0
    OCL                 = INITIAL OCL_BloodyGoreExplosion
    FX                  = FINAL   FX_InfantryGoreExplosion
  End
  Behavior = SlowDeathBehavior ModuleTag_Death0323
    DeathTypes          = NONE +EXTRA_5
    ProbabilityModifier = 70
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_WorkerDie
    OCL                 = INITIAL OCL_BrutalBloodyDeathBits
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
    DeathTypes          = NONE +EXTRA_6
    DestructionDelay    = 0
    OCL                 = INITIAL OCL_RadiationDeathInfantry
    FX                  = INITIAL FX_GIDieRadiation
    FX                  = FINAL   FX_DieByToxinGLA
  End
  Behavior = SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
    DeathTypes          = NONE +EXTRA_7
    DestructionDelay    = 0
    OCL                 = INITIAL OCL_NeutronRadiationDeathInfantry
    FX                  = INITIAL FX_GIDieRadiation
    FX                  = FINAL   FX_DieByToxinGLA
  End

; --- end Death modules ---

  Behavior = StealthDetectorUpdate ModuleTag_12
    DetectionRate         = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange       = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
    ExtraRequiredKindOf   = MINE  ; we can only detect MINES, not other stealthed things
  End

  Behavior = PoisonedBehavior ModuleTag_13
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = CommandSetUpgrade ModuleTag_14
    TriggeredBy = Upgrade_GLAWorkerFakeCommandSet
    RemovesUpgrades = Upgrade_GLAWorkerRealCommandSet
    CommandSet = GLAWorkerFakeBuildingsCommandSet
  End
 
  Behavior = CommandSetUpgrade ModuleTag_15
    TriggeredBy = Upgrade_GLAWorkerRealCommandSet
    RemovesUpgrades = Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
    CommandSet = GLAWorkerCommandSet
  End
 
  Behavior = ProductionUpdate ModuleTag_16
    MaxQueueEntries = 1; For the command set switching upgrade
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object GLAInfantryMiniGameWorkerExtraFast

  ; *** ART Parameters ***
  SelectPortrait         = SUWorker_L
  ButtonImage            = SUWorker
  
  UpgradeCameo1 = Upgrade_GLAWorkerShoes
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model         = UIWRKRSH_SKN
      IdleAnimation = UIWRKR_SKL.UIWRKR_STA 0 9
      IdleAnimation = UIWRKR_SKL.UIWRKR_IDA
      AnimationMode = ONCE
      TransitionKey = TRANS_Stand
    End

    ConditionState  = MOVING
      Animation     = UIWRKR_SKL.UIWRKR_RNA 16
      AnimationMode = LOOP
      Flags         = RANDOMSTART
      TransitionKey = TRANS_Moving
      ParticleSysBone = None InfantryDustTrails
    End
    ; it is legal to be ACTIVELY_CONSTRUCTING and MOVING at the same time,
    ; since we flip the bit once we get pretty close to the target. but it looks
    ; funky to do the construction animation while moving. 
    ; so just use the normal move animation in that case.
    AliasConditionState = ACTIVELY_CONSTRUCTING MOVING

    ConditionState = ATTACKING
      Animation = UIWRKR_SKL.UIWRKR_BDA
      AnimationMode = LOOP
      TransitionKey = TRANS_MetalDetector_Standing
    End

    TransitionState = TRANS_Stand TRANS_MetalDetector_Standing    ;STANDING -> ATTACKING
      Animation     = UIWRKR_SKL.UIWRKR_TRA1
      AnimationMode = ONCE
    End
    TransitionState = TRANS_MetalDetector_Standing TRANS_Stand    ;ATTACKING -> STANDING
      Animation     = UIWRKR_SKL.UIWRKR_TRA2
      AnimationMode = ONCE
    End

    ConditionState = DYING
      Animation = UIWRKR_SKL.UIWRKR_DTA
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIWRKR_SKL.UIWRKR_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIWRKR_SKL.UIWRKR_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIWRKR_SKL.UIWRKR_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState  = SPECIAL_CHEERING
      Animation     = UIWRKR_SKL.UIWRKR_CHA
      AnimationMode = ONCE
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Worker
  Side = GLA
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)


  WeaponSet
    Conditions = None 
    Weapon = PRIMARY WorkerHammerWeapon
  End

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 100
  ShroudClearingRange = 200

  BuildCost = 200
  BuildTime = 3.0          ;in seconds    
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GLAWorkerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = WorkerVoiceSelect
  VoiceMove = WorkerVoiceMove
  VoiceAttack = WorkerVoiceMove
  VoiceGuard = WorkerVoiceMove
  VoiceFear = WorkerVoiceFear
  VoiceTaskComplete = WorkerVoiceBuildComplete
  UnitSpecificSounds
    VoiceEnter        = WorkerVoiceMoveUpgraded
    VoiceEnterHostile = WorkerVoiceMoveUpgraded
    VoiceGarrison     = WorkerVoiceGarrison
    VoiceCreate       = WorkerVoiceCreate
    VoiceSupply       = WorkerVoiceSupply
    VoiceNoBuild      = WorkerVoiceBuildNot
    VoiceRepair       = WorkerVoiceRepair
    VoiceDisarm       = WorkerVoiceClearMine
    VoiceBuildResponse = WorkerVoiceBuild
    VoiceGetHealed    = WorkerVoiceMoveUpgraded
    VoiceMoveUpgraded = WorkerVoiceMoveUpgraded
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SALVAGER DOZER HARVESTER SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL UberFastHumanLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_WorkerDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_WorkerDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireGLA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
  Behavior = SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
    DeathTypes          = NONE +EXTRA_2
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireGLA
    OCL                 = INITIAL OCL_MicrowavedInfantry 
  End
  Behavior = SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
    DeathTypes          = NONE +EXTRA_4
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    OCL                 = INITIAL OCL_BrutalBloodyDeathBits
    FX                  = INITIAL FX_InfantryGoreExplosion
  End
  Behavior = SlowDeathBehavior ModuleTag_036 ;Gore death explosion
    DeathTypes          = NONE +EXTRA_5
    ProbabilityModifier = 30
    DestructionDelay    = 0
    OCL                 = INITIAL OCL_BloodyGoreExplosion
    FX                  = FINAL   FX_InfantryGoreExplosion
  End
  Behavior = SlowDeathBehavior ModuleTag_Death0323
    DeathTypes          = NONE +EXTRA_5
    ProbabilityModifier = 70
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_WorkerDie
    OCL                 = INITIAL OCL_BrutalBloodyDeathBits
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
    DeathTypes          = NONE +EXTRA_6
    DestructionDelay    = 0
    OCL                 = INITIAL OCL_RadiationDeathInfantry
    FX                  = INITIAL FX_GIDieRadiation
    FX                  = FINAL   FX_DieByToxinGLA
  End
  Behavior = SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
    DeathTypes          = NONE +EXTRA_7
    DestructionDelay    = 0
    OCL                 = INITIAL OCL_NeutronRadiationDeathInfantry
    FX                  = INITIAL FX_GIDieRadiation
    FX                  = FINAL   FX_DieByToxinGLA
  End

; --- end Death modules ---

  Behavior = StealthDetectorUpdate ModuleTag_12
    DetectionRate         = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange       = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
    ExtraRequiredKindOf   = MINE  ; we can only detect MINES, not other stealthed things
  End

  Behavior = PoisonedBehavior ModuleTag_13
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = CommandSetUpgrade ModuleTag_14
    TriggeredBy = Upgrade_GLAWorkerFakeCommandSet
    RemovesUpgrades = Upgrade_GLAWorkerRealCommandSet
    CommandSet = GLAWorkerFakeBuildingsCommandSet
  End
 
  Behavior = CommandSetUpgrade ModuleTag_15
    TriggeredBy = Upgrade_GLAWorkerRealCommandSet
    RemovesUpgrades = Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
    CommandSet = GLAWorkerCommandSet
  End
 
  Behavior = ProductionUpdate ModuleTag_16
    MaxQueueEntries = 1; For the command set switching upgrade
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End