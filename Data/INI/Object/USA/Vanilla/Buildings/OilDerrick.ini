;------------------------------------------------------------------------------
Object AmericaTechOilDerrick

  ; *** ART Parameters ***
  SelectPortrait         = SSTechOilDerrick_L
  ButtonImage            = SSTechOilDerrick_L

  ; ====================================================================
  ; MAIN BUILDING
  ; ====================================================================
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
  
    ; DAY **************************************************************
    ConditionState  = NONE
      Model         = ZBODerrick
      Animation     = ZBODerrick.ZBODerrick
      AnimationMode = LOOP
      ParticleSysBone = FX01 FireBurningBarricade01
      ParticleSysBone = FX01 SmokeFactionEvenSmall
    End
    
    ; DAMAGED **********************************************************
    ConditionState  = DAMAGED
      Model         = ZBODerrick_D
      Animation     = ZBODerrick_D.ZBODerrick_D
      AnimationMode = LOOP
    End
    
    ; REALLYDAMAGED ****************************************************
    ConditionState  = REALLYDAMAGED RUBBLE
      Model         = ZBODerrick_E
      Animation     = ZBODerrick_E.ZBODerrick_E
      AnimationMode = LOOP
      ParticleSysBone = FX01 FireBurningBarricade01
      ParticleSysBone = FX01 SmokeFactionEvenSmall
    End

    ; NIGHT ************************************************************
    ConditionState  = NIGHT
      Model         = ZBODerrick_N
      Animation     = ZBODerrick_N.ZBODerrick_N
      ParticleSysBone = FX01 FireBurningBarricade01
      ParticleSysBone = FX01 SmokeFactionEvenSmall
      AnimationMode = LOOP
    End
    
    ; NIGHT DAMAGED ****************************************************
    ConditionState  = DAMAGED NIGHT
      Model         = ZBODerrick_DN
      Animation     = ZBODerrick_DN.ZBODerrick_DN
      ParticleSysBone = FX01 FireBurningBarricade01
      ParticleSysBone = FX01 SmokeFactionEvenSmall
      AnimationMode = LOOP
    End
    
    ; NIGHT REALLYDAMAGED **********************************************
    ConditionState  = REALLYDAMAGED NIGHT RUBBLE
      Model         = ZBODerrick_EN
      Animation     = ZBODerrick_EN.ZBODerrick_EN
      AnimationMode = LOOP
      ParticleSysBone = FX01 FireBurningBarricade01
      ParticleSysBone = FX01 SmokeFactionEvenSmall
    End
    
    ; SNOW *************************************************************
    ConditionState  = SNOW
      Model         = ZBODerrick_S
      Animation     = ZBODerrick_S.ZBODerrick_S
      AnimationMode = LOOP
      ParticleSysBone = FX01 FireBurningBarricade01
      ParticleSysBone = FX01 SmokeFactionEvenSmall
    End
    
    ; SNOW DAMAGED *****************************************************
    ConditionState  = DAMAGED SNOW
      Model         = ZBODerrick_DS
      Animation     = ZBODerrick_DS.ZBODerrick_DS
      AnimationMode = LOOP
      ParticleSysBone = FX01 FireBurningBarricade01
      ParticleSysBone = FX01 SmokeFactionEvenSmall
    End
    
    ; SNOW REALLYDAMAGED ***********************************************
    ConditionState  = REALLYDAMAGED SNOW RUBBLE
      Model         = ZBODerrick_ES
      Animation     = ZBODerrick_ES.ZBODerrick_ES
      AnimationMode = LOOP
      ParticleSysBone = FX01 FireBurningBarricade01
      ParticleSysBone = FX01 SmokeFactionEvenSmall
    End
    
    ; SNOW NIGHT *******************************************************
    ConditionState  = SNOW NIGHT
      Model         = ZBODerrick_NS
      Animation     = ZBODerrick_NS.ZBODerrick_NS
      AnimationMode = LOOP
      ParticleSysBone = FX01 FireBurningBarricade01
      ParticleSysBone = FX01 SmokeFactionEvenSmall
    End
    
    ; SNOW NIGHT DAMAGED ***********************************************
    ConditionState  = SNOW NIGHT DAMAGED
      Model         = ZBODerrick_DNS
      Animation     = ZBODerrick_DNS.ZBODerrick_DNS
      AnimationMode = LOOP
      ParticleSysBone = FX01 FireBurningBarricade01
      ParticleSysBone = FX01 SmokeFactionEvenSmall
    End
    
    ; SNOW NIGHT REALLYDAMAGED *****************************************
    ConditionState  = SNOW NIGHT REALLYDAMAGED RUBBLE
      Model         = ZBODerrick_ENS
      Animation     = ZBODerrick_EN.ZBODerrick_ENS
      ParticleSysBone = FX01 FireBurningBarricade01
      ParticleSysBone = FX01 SmokeFactionEvenSmall
      AnimationMode = LOOP
    End
  End
  ; ====================================================================

  ; ====================================================================
  ; FLAG MODEL
  ; ====================================================================
  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes
    
    ; DEFAULT & DAMAGED ************************************************
    ConditionState  = NONE
      Model         = ZBODerrick_F
      Animation     = ZBODerrick_F.ZBODerrick_F
      AnimationMode = LOOP
    End
    AliasConditionState = DAMAGED
    
    ; REALLYDAMAGED*****************************************************
    ConditionState  = REALLYDAMAGED RUBBLE
      Model         = ZBODerrick_FE
      Animation     = ZBODerrick_FE.ZBODerrick_FE
      AnimationMode = LOOP
    End
  End
  ; ====================================================================

  ; ====================================================================
  ; NEW ANIMATIONS
  ; ====================================================================
  Draw = W3DModelDraw ModuleTag_LightingAnimations
    AnimationsRequirePower = No
  
    DefaultConditionState
      Model           = ZBODerrick_A1
      Animation       = ZBODerrick_A1.ZBODerrick_A1
      AnimationMode   = LOOP
    End
    
    ConditionState    = DAMAGED
      Model           = ZBODerrick_A1D
      Animation       = ZBODerrick_A1D.ZBODerrick_A1D
      AnimationMode   = LOOP
    End
    
    ConditionState    = REALLYDAMAGED RUBBLE
      Model           = ZBODerrick_A1E
      Animation       = ZBODerrick_A1E.ZBODerrick_A1E
      AnimationMode   = LOOP
    End
  End
  ; ====================================================================
  
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:TechOilDerrick_General
  Side                = America
  EditorSorting       = STRUCTURE
  Prerequisites
    Object = AmericaSupplyCenter
  End
  BuildCost           = 5000
  BuildTime           = 30.0
  VisionRange         = 200.0
  ShroudClearingRange = 200
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  CommandSet          = TechOilDerrickCommandSet
  ExperienceValue     = 100 100 100 100

  ; *** AUDIO Parameters ***
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy
  SoundAmbient          = OilDerrickAmbientLoop

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***  
  KindOf            = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE TECH_BUILDING CONSERVATIVE_BUILDING
  Body              = ActiveBody ModuleTag_03
    MaxHealth       = 2500.0
    InitialHealth   = 2500.0
  End

  Behavior              = AutoDepositUpdate ModuleTag_04
    DepositTiming       = 10000  ; in milliseconds
    DepositAmount       = 250    ; cash amount to deposit every Deposit Timings
    InitialCaptureBonus = 1000   ;capture bonus only happens once
    UpgradedBoost       = UpgradeType:Upgrade_AmericaSupplyLines  Boost:50
  End

  Behavior = TechBuildingBehavior ModuleTag_05
    ;<NO DATA>
  End

  Behavior = FXListDie ModuleTag_06
    DeathFX = WeaponFX_BombTruckDefaultBombDetonation
  End

  Behavior = FXListDie ModuleTag_07
    DeathFX = FX_BuildingDie
  End

  Behavior = DestroyDie ModuleTag_08
    ;nothing
  End

  Behavior = CreateObjectDie ModuleTag_09
    CreationList = OCL_SmallStructureDebris
  End

  Behavior                = FlammableUpdate ModuleTag_10
    FlameDamageLimit      = 20    ; Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ; in a span of this long
    AflameDuration        = 5000  ; If I catch fire, I'll burn for this long...
    AflameDamageAmount    = 25    ; taking this much damage...
    AflameDamageDelay     = 500   ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_11
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Geometry              = BOX
  GeometryMajorRadius   = 23.0
  GeometryMinorRadius   = 21.0
  GeometryHeight        = 30.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion       = PLACED_BY_PLAYER

End