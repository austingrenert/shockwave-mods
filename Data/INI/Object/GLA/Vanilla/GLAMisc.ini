Object GLARocketBuggyFullDebris

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = UVRkBgy_D1
    End

  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:RocketBuggyDebris
  Side                  = GLA
  EditorSorting         = SYSTEM
  TransportSlotCount    = 0

  ; *** AUDIO Parameters ***
  ; *** ENGINEERING Parameters ***
  RadarPriority         = UNIT
  KindOf                = CAN_CAST_REFLECTIONS 

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1.0
    InitialHealth   = 1.0
  End

  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 50
    AllowBouncing = Yes
  End
  Behavior = LifetimeUpdate ModuleTag_04
    MinLifetime = 0   ; min lifetime in msec
    MaxLifetime = 0   ; max lifetime in msec
  End

  Behavior = SlowDeathBehavior ModuleTag_06
    DestructionDelay          = 500
    DestructionDelayVariance  = 1500
    OCL                       = FINAL     OCL_RocketBuggyAirDeath
    FX                        = INITIAL   FX_RocketBuggyAirDeathGroundPart
    FX                        = FINAL     FX_RocketBuggyAirDeathAirPart    ; This happens in the air
  End

  Geometry = BOX
  GeometryMajorRadius = 9.0
  GeometryMinorRadius = 6.0
  GeometryHeight = 7.5     
  GeometryIsSmall = Yes    

End

Object GLACombatBikeFullDebris

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = UVComBike_D1
    End
  End

  ; ***DESIGN parameters ***
  Side                  = GLA
  EditorSorting         = SYSTEM
  TransportSlotCount    = 0

  ; *** AUDIO Parameters ***
  ; *** ENGINEERING Parameters ***
  RadarPriority         = UNIT
  KindOf                = CAN_CAST_REFLECTIONS 

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1.0
    InitialHealth   = 1.0
  End

  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 50
    AllowBouncing = Yes
  End
  Behavior = LifetimeUpdate ModuleTag_04
    MinLifetime = 0   ; min lifetime in msec
    MaxLifetime = 0   ; max lifetime in msec
  End

  Behavior = SlowDeathBehavior ModuleTag_06
    DestructionDelay          = 500
    DestructionDelayVariance  = 1500
    OCL                       = FINAL     OCL_CombatBikeAirDeath
    FX                        = INITIAL   FX_RocketBuggyAirDeathGroundPart
    FX                        = FINAL     FX_RocketBuggyAirDeathAirPart    ; This happens in the air
  End

  Geometry = BOX
  GeometryMajorRadius = 9.0
  GeometryMinorRadius = 6.0
  GeometryHeight = 7.5     
  GeometryIsSmall = Yes    

End

Object GLACombatBikeToppledHulk

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = UVComBike_D1
    End
  End

  ; ***DESIGN parameters ***
  Side                  = GLA
  EditorSorting         = SYSTEM
  TransportSlotCount    = 0

  ; *** AUDIO Parameters ***
  ; *** ENGINEERING Parameters ***
  RadarPriority         = UNIT
  KindOf                = CAN_CAST_REFLECTIONS 

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1.0
    InitialHealth   = 1.0
  End

  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 50
    AllowBouncing = Yes
  End

  Behavior = LifetimeUpdate ModuleTag_04
    MinLifetime = 0   ; min lifetime in msec
    MaxLifetime = 0   ; max lifetime in msec
  End

  Behavior = SlowDeathBehavior ModuleTag_06
    SinkDelay = 1
    SinkRate = 1.0
    DestructionDelay = 3000
  End

  Geometry = BOX
  GeometryMajorRadius = 9.0
  GeometryMinorRadius = 6.0
  GeometryHeight = 7.5     
  GeometryIsSmall = Yes    

End

Object RocketBuggyMissileDebris

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = NVMBuggy_m
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:RocketBuggyDebris
  EditorSorting     = SYSTEM
  ArmorSet
    Conditions      = None
    Armor           = ProjectileArmor
    DamageFX        = None
  End

  ; *** ENGINEERING Parameters ***
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 3
    AllowBouncing = Yes
  End

  Behavior = LifetimeUpdate ModuleTag_04
    MinLifetime = 0   ; min lifetime in msec
    MaxLifetime = 0   ; max lifetime in msec
  End
  Behavior = SlowDeathBehavior ModuleTag_05
    DestructionDelay = 500
    DestructionDelayVariance = 500
    FX = INITIAL FX_BuggyMissileDebris
    FX = FINAL WeaponFX_RocketBuggyMissileDetonation
  End

  Geometry = Sphere
  GeometryIsSmall = Yes
  GeometryMajorRadius = 2.0

End

Object GLAQuadBikeFullDebris

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = UVSupplyBike_D1
    End
  End

  ; ***DESIGN parameters ***
  Side                  = GLA
  EditorSorting         = SYSTEM
  TransportSlotCount    = 0

  ; *** AUDIO Parameters ***
  ; *** ENGINEERING Parameters ***
  RadarPriority         = UNIT
  KindOf                = CAN_CAST_REFLECTIONS 

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1.0
    InitialHealth   = 1.0
  End

  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 50
    AllowBouncing = Yes
  End
  Behavior = LifetimeUpdate ModuleTag_04
    MinLifetime = 0   ; min lifetime in msec
    MaxLifetime = 0   ; max lifetime in msec
  End

  Behavior = SlowDeathBehavior ModuleTag_06
    DestructionDelay          = 500
    DestructionDelayVariance  = 1500
    OCL                       = FINAL     OCL_QuadBikeAirDeath
    FX                        = INITIAL   FX_RocketBuggyAirDeathGroundPart
    FX                        = FINAL     FX_RocketBuggyAirDeathAirPart    ; This happens in the air
  End

  Geometry = BOX
  GeometryMajorRadius = 9.0
  GeometryMinorRadius = 6.0
  GeometryHeight = 7.5     
  GeometryIsSmall = Yes    

End

Object GLAParachute

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = UVChute
      Animation = PMparacht_SKL.PMparacht_FAL
      AnimationMode = LOOP
    End
    ConditionState = PARACHUTING
      Model = UVChute
      Animation = PMparacht_SKL.PMparacht_OPN
      AnimationMode = ONCE
    End
    ConditionState = RUBBLE
      Model = UVChute
      Animation = PMparacht_SKL.PMparacht_DRP
      AnimationMode = ONCE
    End
    ; this is a weird state to resolve an ambiguity: sometimes
    ; we can have a "rubble" parachute momentarily, that doesn't
    ; know that it has finished parachuting yet...
    ConditionState = RUBBLE PARACHUTING
      Model = UVChute
      Animation = PMparacht_SKL.PMparacht_DRP
      AnimationMode = ONCE
    End
  End 

  ; ***DESIGN parameters ***
  Side                = America
  EditorSorting       = SYSTEM
  TransportSlotCount  = 0                 
  VisionRange         = 300.0 
  ShroudClearingRange = 300
  IsTrainable         = No  ;Can gain experience
  KindOf              = PRELOAD PARACHUTE UNATTACKABLE

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***
  Behavior = AIUpdateInterface ModuleTag_02
    ; nothing
  End
  Locomotor = SET_NORMAL ParachuteLocomotor
  Locomotor = SET_FREEFALL FreeFallLocomotor

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 100000.0
    InitialHealth   = 100000.0
  End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End

  Behavior = ParachuteContain ModuleTag_05
    PitchRateMax = 60           ; deg/sec
    RollRateMax = 60            ; deg/sec
    LowAltitudeDamping  = 0.2   ; how much to damp swaying when we get "close" to the ground
    ParachuteOpenDist   = 25.0  ; how far we have to fall 'till we open our 'chute
    AllowInsideKindOf   = INFANTRY PARACHUTABLE
    ParachuteOpenSound  = ParachuteOpen
  End

  Behavior = SlowDeathBehavior ModuleTag_06
    SinkDelay = 1000
    SinkRate = 1     ; in Dist/Sec
    DestructionDelay = 4000
  End

  RadarPriority = NOT_ON_RADAR
  Geometry = CYLINDER
  GeometryMajorRadius = 15.0
  GeometryHeight = 10.0    
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME

End

Object GLAVehicleParachute

  ; *** ART Parameters ***
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    
    DefaultConditionState
      Model = UVVChute_A
      Animation = UVVChute_A.UVVChute_A
      AnimationMode = LOOP
    End
    ConditionState = PARACHUTING
      Model = UVVChute_B
      Animation = UVVChute_B.UVVChute_B
      AnimationMode = ONCE
    End
    ConditionState = RUBBLE
      Model = UVVChute_C
      Animation = UVVChute_C.UVVChute_C
      AnimationMode = ONCE
    End
    ConditionState = RUBBLE PARACHUTING
      Model = UVVChute_C
      Animation = UVVChute_C.UVVChute_C
      AnimationMode = ONCE
    End
  End 

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  TransportSlotCount  = 10                 
  VisionRange         = 300.0 
  ShroudClearingRange = 300
  IsTrainable         = No  ;Can gain experience
  KindOf              = PRELOAD PARACHUTE UNATTACKABLE

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***
  Behavior = AIUpdateInterface ModuleTag_02
    ; nothing
  End
  Locomotor = SET_NORMAL ParachuteLocomotor
  Locomotor = SET_FREEFALL FreeFallLocomotor

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 100000.0
    InitialHealth   = 100000.0
  End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End

  Behavior = ParachuteContain ModuleTag_05
    PitchRateMax = 60           ; deg/sec
    RollRateMax = 60            ; deg/sec
    LowAltitudeDamping  = 0.2   ; how much to damp swaying when we get "close" to the ground
    ParachuteOpenDist   = 15.0  ; how far we have to fall 'till we open our 'chute
    AllowInsideKindOf   = INFANTRY VEHICLE PARACHUTABLE
    ParachuteOpenSound  = VehicleParachuteOpen
  End

  Behavior = SlowDeathBehavior ModuleTag_06
    SinkDelay = 2700
    SinkRate = 1     ; in Dist/Sec
    DestructionDelay = 6000
    OCL = INITIAL OCL_PadadropedVehicleWoodenPlate
    FX  = INITIAL FX_PadardroppedVehicleHitGround
  End

  RadarPriority = NOT_ON_RADAR
  Geometry = CYLINDER
  GeometryMajorRadius = 15.0
  GeometryHeight = 10.0
  Scale = 1.2
  GeometryIsSmall = Yes

End

Object GLAPowerPlantWindmillBlade

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ConditionState = NONE
      Model = UBPwrPlant_D1
    End
  End

  ; ***DESIGN parameters ***
;  DisplayName      = OBJECT:RocketBuggyDebris

  EditorSorting   = DEBRIS
  KindOf = IMMOBILE
  Side = GLA

  ; *** AUDIO Parameters ***
  ; *** ENGINEERING Parameters ***
;  RadarPriority = UNIT
;  KindOf = PRELOAD CAN_CAST_REFLECTIONS

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1.0
    InitialHealth   = 1.0
  End

  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 50
    AllowBouncing = Yes
  End

  Behavior = LifetimeUpdate ModuleTag_04
    MinLifetime = 10000   ; min lifetime in msec
    MaxLifetime = 15000   ; max lifetime in msec
  End

  Behavior = SlowDeathBehavior ModuleTag_05
    SinkDelay = 1000
    SinkRate = 1     ; in Dist/Sec
    DestructionDelay = 2000
  End

  Geometry = BOX
  GeometryMajorRadius = 9.0
  GeometryMinorRadius = 6.0
  GeometryHeight = 7.5     
  GeometryIsSmall = Yes    

End

Object GLATunnelNetworkNoSpawn
  ; *** ART Parameters ***
  SelectPortrait         = SUTunnel_L
  ButtonImage            = SUTunnel
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    
    DefaultConditionState
      Model             = UBUndTunn
      Turret            = Turret01
      WeaponFireFXBone  = PRIMARY BarrelMS
      WeaponMuzzleFlash = PRIMARY BarrelFX
    End

    ConditionState      = DAMAGED
      Model             = UBUndTunn_D
    End

    ConditionState      = REALLYDAMAGED RUBBLE
      Model             = UBUndTunn_E
      ParticleSysBone   = Steam01 SteamVent
    End
    
    
    ConditionState      = SNOW
      Model             = UBUndTunn_S
    End
    
    ConditionState      = DAMAGED SNOW
      Model             = UBUndTunn_DS
    End

    ConditionState      = REALLYDAMAGED RUBBLE SNOW
      Model             = UBUndTunn_ES
      ParticleSysBone   = Steam01 SteamVent
    End
    
    
    
    
    ConditionState      = NIGHT
      Model             = UBUndTunn_N
    End


    ConditionState      = DAMAGED NIGHT
      Model             = UBUndTunn_DN
    End

    ConditionState      = REALLYDAMAGED RUBBLE NIGHT
      Model             = UBUndTunn_EN
      ParticleSysBone   = Steam01 SteamVent
    End
    
    
    ConditionState      = SNOW NIGHT
      Model             = UBUndTunn_NS
    End
    
    ConditionState      = DAMAGED SNOW NIGHT
      Model             = UBUndTunn_DNS
    End

    ConditionState      = REALLYDAMAGED RUBBLE SNOW NIGHT
      Model             = UBUndTunn_ENS
      ParticleSysBone   = Steam01 SteamVent
    End
    
        ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UBUndTunn
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = UBUndTunn_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = UBUndTunn_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = UBUndTunn_N
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = UBUndTunn_DN
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = UBUndTunn_EN
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = UBUndTunn_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = UBUndTunn_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = UBUndTunn_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = UBUndTunn_NS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = UBUndTunn_DNS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = UBUndTunn_ENS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************

  End
  
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBUndTunn_A4
      Animation       = UBUndTunn_A4.UBUndTunn_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBUndTunn_A4N
      Animation       = UBUndTunn_A4N.UBUndTunn_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBUndTunn_A4S
      Animation       = UBUndTunn_A4S.UBUndTunn_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBUndTunn_A4SN
      Animation       = UBUndTunn_A4SN.UBUndTunn_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = UBUndTunn_A4
      Animation       = UBUndTunn_A4.UBUndTunn_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = UBUndTunn_A4N
      Animation       = UBUndTunn_A4N.UBUndTunn_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = UBUndTunn_A4S
      Animation       = UBUndTunn_A4S.UBUndTunn_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = UBUndTunn_A4SN
      Animation       = UBUndTunn_A4SN.UBUndTunn_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBUndTunn_A4
      Animation       = UBUndTunn_A4.UBUndTunn_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBUndTunn_A4N
      Animation       = UBUndTunn_A4N.UBUndTunn_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBUndTunn_A4S
      Animation       = UBUndTunn_A4S.UBUndTunn_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBUndTunn_A4SN
      Animation       = UBUndTunn_A4SN.UBUndTunn_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBUndTunn_A6
      Animation       = UBUndTunn_A6.UBUndTunn_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBUndTunn_A6N
      Animation       = UBUndTunn_A6N.UBUndTunn_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBUndTunn_A6S
      Animation       = UBUndTunn_A6S.UBUndTunn_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBUndTunn_A6SN
      Animation       = UBUndTunn_A6SN.UBUndTunn_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = UBUndTunn_A6
      Animation       = UBUndTunn_A6.UBUndTunn_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = UBUndTunn_A6N
      Animation       = UBUndTunn_A6N.UBUndTunn_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = UBUndTunn_A6S
      Animation       = UBUndTunn_A6S.UBUndTunn_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = UBUndTunn_A6SN
      Animation       = UBUndTunn_A6SN.UBUndTunn_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBUndTunn_A6
      Animation       = UBUndTunn_A6.UBUndTunn_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBUndTunn_A6N
      Animation       = UBUndTunn_A6N.UBUndTunn_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBUndTunn_A6S
      Animation       = UBUndTunn_A6S.UBUndTunn_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBUndTunn_A6SN
      Animation       = UBUndTunn_A6SN.UBUndTunn_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
   
  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:TunnelNetwork
  Side = GLA
  EditorSorting    = STRUCTURE
  Prerequisites
    Object = GLABarracks
  End
  BuildCost        = 800
  BuildTime        = 5.0           ; in seconds
  EnergyProduction = 0
  VisionRange     = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY TunnelNetworkGun
  End
  CommandSet       = GLATunnelNetworkCommandSet
  ExperienceValue     = 100 100 100 100  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = TunnelNetworkSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy
  SoundEnter = GarrisonEnter
  SoundExit = GarrisonExit


  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
    TurretMoveLoop        = NoSound
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE FS_BASE_DEFENSE IMMUNE_TO_CAPTURE SCORE_CREATE AUTO_RALLYPOINT
  Body            = StructureBody ModuleTag_04
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = StealthDetectorUpdate ModuleTag_13
    DetectionRate     = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange   = 150   ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = AIUpdateInterface ModuleTag_16
    Turret
      TurretTurnRate        = 180   // turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY
    End

    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
  End
  Behavior = TunnelContain ModuleTag_05
    TimeForFullHeal     = 5000   ;(in milliseconds)
  End

; The lack of these two modules is what makes this Single player version different from the normal one

;  Behavior = DefaultProductionExitUpdate ModuleTag_06
;    UnitCreatePoint   = X:  5.0  Y:  0.0   Z:0.0
;    NaturalRallyPoint = X: 35.0  Y:  0.0   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
;  End
;
;  Behavior            = SpawnBehavior ModuleTag_07
;    SpawnNumber       = 2
;    SpawnReplaceDelay = 9999
;    SpawnTemplateName = GLAInfantryTunnelDefender
;    OneShot           = Yes
;    CanReclaimOrphans = No
;    SlavesHaveFreeWill = Yes
;  End
  Behavior             = RebuildHoleExposeDie ModuleTag_09
    HoleName      = GLAHoleTunnelNetwork
    HoleMaxHealth = 500.0
  End
  Behavior = DestroyDie ModuleTag_10
    ;nothing
  End
  Behavior             = CreateObjectDie ModuleTag_11
    CreationList  = OCL_ABTunnelNetworkDebris
  End
  Behavior             = FXListDie ModuleTag_12
    DeathFX       = FX_StructureSmallDeath
  End

  Behavior = FlammableUpdate ModuleTag_15
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 25.0
  GeometryHeight = 20.0    
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

ObjectReskin GLAHoleTunnelNetworkNoSpawn GLAHole
  Draw                     = W3DModelDraw ModuleTag_01
    OkToChangeModelColor   = Yes
    ConditionState         = NONE
      Model                = UBHole
    End
    ConditionState         = DAMAGED
      Model                = UBHole_D
      ParticleSysBone      = Smoke01 SteamVent
    End
    ConditionState         = REALLYDAMAGED
      Model                = UBHole_E
      ParticleSysBone      = Smoke01 SteamVent
      ParticleSysBone      = Smoke02 SteamVent
      ParticleSysBone      = Fire01 GLAPowerPlantFlame
      ParticleSysBone      = Fire02 GLAPowerPlantFlame
      ParticleSysBone      = Fire03 GLAPowerPlantFlame
    End
  End
  
  Draw = W3DModelDraw ModuleTag_HoleDoors01
  
    OkToChangeModelColor = Yes
    
    DefaultConditionState
      Model = UBHole_A1
      Animation = UBHole_A1.UBHole_A1
      AnimationMode = ONCE
      Flags = START_FRAME_FIRST
    End
    
    ConditionState = DAMAGED CONSTRUCTION_COMPLETE
      Model = UBHole_A1D
      Animation = UBHole_A1D.UBHole_A1D
      AnimationMode = ONCE
      Flags = START_FRAME_LAST
    End
    
    ConditionState = DAMAGED
      Model = UBHole_A1D
    End
    
    ConditionState = REALLYDAMAGED
      Model = NONE
    End
    
  End
  
  Draw                     = W3DModelDraw ModuleTag_02
    OkToChangeModelColor   = Yes
    ConditionState         = NONE
      Model                = UBUndTunn_R
      ParticleSysBone      = Smoke01 SmolderingSmoke
      ParticleSysBone      = Smoke02 SmolderingSmoke
    End
    ConditionState         = DAMAGED REALLYDAMAGED
      Model                = UBUndTunn_R
      ParticleSysBone      = Smoke01 SmolderingSmoke
      ParticleSysBone      = Smoke02 SmolderingSmoke
    End
  End
End

Object GLAArmsDealerNoHole

  ; *** ART Parameters ***
  SelectPortrait         = SUArmsDealer_L
  ButtonImage            = SUArmsDealer
  
  ; ----------------- Main Building -------------------
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ; day
    ConditionState       = NONE
      Model              = UBArmDeal
      Animation          = UBArmDeal.UBArmDeal
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Steam01 SteamVent
    End
    ;damaged
    ConditionState    = DAMAGED
      Model           = UBArmDeal_D
      Animation       = UBArmDeal_D.UBArmDeal_D
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
;     ParticleSysBone = Smoke02 SmolderingSmoke
;     ParticleSysBone = Smoke03 SmolderingSmoke
;     ParticleSysBone = Smoke04 SmolderingSmoke
;     ParticleSysBone = Smoke05 SmolderingSmoke
;     ParticleSysBone = Smoke06 SmolderingSmoke
;     ParticleSysBone = Fire02 SmolderingFire
;     ParticleSysBone = Fire03 SmolderingFire
;     ParticleSysBone = Fire04 SmolderingFire
;     ParticleSysBone = Fire05 SmolderingFire
;     ParticleSysBone = Fire06 SmolderingFire
    End
    ;really damaged
    ConditionState    = REALLYDAMAGED RUBBLE
      Model           = UBArmDeal_E
      Animation       = UBArmDeal_E.UBArmDeal_E
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
;     ParticleSysBone = Smoke02 SmolderingSmoke
;     ParticleSysBone = Smoke03 SmolderingSmoke
;     ParticleSysBone = Smoke04 SmolderingSmoke
;     ParticleSysBone = Smoke05 SmokeFactionLarge
;     ParticleSysBone = Smoke06 SmolderingSmoke
;     ParticleSysBone = Smoke07 SmolderingSmoke
;     ParticleSysBone = Fire02 SmolderingFire
;     ParticleSysBone = Fire03 SmolderingFire
;     ParticleSysBone = Fire04 SmolderingFire
;     ParticleSysBone = Fire05 FireFactionLarge
;     ParticleSysBone = Fire06 SmolderingFire
;     ParticleSysBone = Fire07 SmolderingFire
     End
     
     
    ConditionState       = SNOW
      Model              = UBArmDeal_S
      Animation          = UBArmDeal_S.UBArmDeal_S
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Steam01 SteamVent
    End
    ;damaged
    ConditionState    = DAMAGED SNOW
      Model           = UBArmDeal_DS
      Animation       = UBArmDeal_DS.UBArmDeal_DS
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
;     ParticleSysBone = Smoke02 SmolderingSmoke
;     ParticleSysBone = Smoke03 SmolderingSmoke
;     ParticleSysBone = Smoke04 SmolderingSmoke
;     ParticleSysBone = Smoke05 SmolderingSmoke
;     ParticleSysBone = Smoke06 SmolderingSmoke
;     ParticleSysBone = Fire02 SmolderingFire
;     ParticleSysBone = Fire03 SmolderingFire
;     ParticleSysBone = Fire04 SmolderingFire
;     ParticleSysBone = Fire05 SmolderingFire
;     ParticleSysBone = Fire06 SmolderingFire
    End
    ;really damaged
    ConditionState    = REALLYDAMAGED RUBBLE SNOW
      Model           = UBArmDeal_ES
      Animation       = UBArmDeal_ES.UBArmDeal_ES
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
;     ParticleSysBone = Smoke02 SmolderingSmoke
;     ParticleSysBone = Smoke03 SmolderingSmoke
;     ParticleSysBone = Smoke04 SmolderingSmoke
;     ParticleSysBone = Smoke05 SmokeFactionLarge
;     ParticleSysBone = Smoke06 SmolderingSmoke
;     ParticleSysBone = Smoke07 SmolderingSmoke
;     ParticleSysBone = Fire02 SmolderingFire
;     ParticleSysBone = Fire03 SmolderingFire
;     ParticleSysBone = Fire04 SmolderingFire
;     ParticleSysBone = Fire05 FireFactionLarge
;     ParticleSysBone = Fire06 SmolderingFire
;     ParticleSysBone = Fire07 SmolderingFire
     End


    ; night
    ConditionState    = NIGHT
      Model           = UBArmDeal_N
      Animation       = UBArmDeal_N.UBArmDeal_N
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Steam01 SteamVent
    End
    ConditionState    = DAMAGED NIGHT
      Model           = UBArmDeal_DN
      Animation       = UBArmDeal_DN.UBArmDeal_DN
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
    End
    ConditionState    = REALLYDAMAGED RUBBLE NIGHT
      Model           = UBArmDeal_EN
      Animation       = UBArmDeal_EN.UBArmDeal_EN
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
     End
     
     ; night snow
    ConditionState    = NIGHT SNOW
      Model           = UBArmDeal_NS
      Animation       = UBArmDeal_NS.UBArmDeal_NS
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Steam01 SteamVent
    End
    ConditionState    = DAMAGED NIGHT SNOW
      Model           = UBArmDeal_DNS
      Animation       = UBArmDeal_DNS.UBArmDeal_DNS
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
    End
    ConditionState    = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model           = UBArmDeal_ENS
      Animation       = UBArmDeal_ENS.UBArmDeal_ENS
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
     End
    
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UBArmDeal
      Animation          = UBArmDeal.UBArmDeal
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = UBArmDeal_D
      Animation          = UBArmDeal_D.UBArmDeal_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = UBArmDeal_E
      Animation          = UBArmDeal_E.UBArmDeal_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = UBArmDeal_N
      Animation          = UBArmDeal_N.UBArmDeal_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = UBArmDeal_DN
      Animation          = UBArmDeal_DN.UBArmDeal_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = UBArmDeal_EN
      Animation          = UBArmDeal_EN.UBArmDeal_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = UBArmDeal_S
      Animation          = UBArmDeal_S.UBArmDeal_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = UBArmDeal_DS
      Animation          = UBArmDeal_DS.UBArmDeal_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = UBArmDeal_ES
      Animation          = UBArmDeal_ES.UBArmDeal_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = UBArmDeal_NS
      Animation          = UBArmDeal_NS.UBArmDeal_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = UBArmDeal_DNS
      Animation          = UBArmDeal_DNS.UBArmDeal_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = UBArmDeal_ENS
      Animation          = UBArmDeal_ENS.UBArmDeal_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
    
 
  End
  
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBArmDeal_A4
      Animation       = UBArmDeal_A4.UBArmDeal_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBArmDeal_A4N
      Animation       = UBArmDeal_A4N.UBArmDeal_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBArmDeal_A4S
      Animation       = UBArmDeal_A4S.UBArmDeal_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBArmDeal_A4SN
      Animation       = UBArmDeal_A4SN.UBArmDeal_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = UBArmDeal_A4
      Animation       = UBArmDeal_A4.UBArmDeal_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = UBArmDeal_A4N
      Animation       = UBArmDeal_A4N.UBArmDeal_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = UBArmDeal_A4S
      ; @todo srj -- anim missing
      Animation       = UBArmDeal_A4S.UBArmDeal_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = UBArmDeal_A4SN
      ; @todo srj -- anim missing
      Animation       = UBArmDeal_A4SN.UBArmDeal_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBArmDeal_A4
      Animation       = UBArmDeal_A4.UBArmDeal_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBArmDeal_A4N
      Animation       = UBArmDeal_A4N.UBArmDeal_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End

    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBArmDeal_A4S
      ; @todo srj -- anim missing
      Animation       = UBArmDeal_A4S.UBArmDeal_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBArmDeal_A4SN
      Animation       = UBArmDeal_A4SN.UBArmDeal_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = UBArmDeal_A6
      Animation       = UBArmDeal_A6.UBArmDeal_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDust
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
      ParticleSysBone = Smoke04 BuildUpSmoke
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBArmDeal_A6N
      Animation       = UBArmDeal_A6N.UBArmDeal_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDust
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
      ParticleSysBone = Smoke04 BuildUpSmoke
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = UBArmDeal_A6S
      Animation       = UBArmDeal_A6S.UBArmDeal_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBArmDeal_A6SN
      Animation       = UBArmDeal_A6SN.UBArmDeal_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingNightSnowDust
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke04 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = UBArmDeal_A6
      Animation       = UBArmDeal_A6.UBArmDeal_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = UBArmDeal_A6N
      Animation       = UBArmDeal_A6N.UBArmDeal_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = UBArmDeal_A6S
      Animation       = UBArmDeal_A6S.UBArmDeal_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = UBArmDeal_A6SN
      Animation       = UBArmDeal_A6SN.UBArmDeal_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBArmDeal_A6
      Animation       = UBArmDeal_A6.UBArmDeal_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBArmDeal_A6N
      Animation       = UBArmDeal_A6N.UBArmDeal_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBArmDeal_A6S
      Animation       = UBArmDeal_A6S.UBArmDeal_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBArmDeal_A6SN
      Animation       = UBArmDeal_A6SN.UBArmDeal_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ----------------- the door -----------------------
  Draw = W3DModelDraw ModuleTag_04
    DefaultConditionState
      Model           = UBArmDeal_A7
      Animation       = UBArmDeal_A7.UBArmDeal_A7
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT 
    AliasConditionState = SNOW
    AliasConditionState = NIGHT SNOW
    
    ConditionState    = DAMAGED
      Model           = UBArmDeal_A7D
      Animation       = UBArmDeal_A7D.UBArmDeal_A7D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = SNOW NIGHT DAMAGED

    ConditionState    = REALLYDAMAGED RUBBLE
      Model           = UBArmDeal_A7E
      Animation       = UBArmDeal_A7E.UBArmDeal_A7E
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    
    
    
    ConditionState    = DOOR_1_OPENING
      Model           = UBArmDeal_A7
      Animation       = UBArmDeal_A7.UBArmDeal_A7
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    AliasConditionState = NIGHT DOOR_1_OPENING
    AliasConditionState = SNOW DOOR_1_OPENING
    AliasConditionState = SNOW NIGHT DOOR_1_OPENING
    
    ConditionState    = DOOR_1_OPENING DAMAGED
      Model           = UBArmDeal_A7D
      Animation       = UBArmDeal_A7D.UBArmDeal_A7D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    AliasConditionState = NIGHT DOOR_1_OPENING DAMAGED
    AliasConditionState = SNOW DOOR_1_OPENING DAMAGED
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING DAMAGED
    
    ConditionState    = DOOR_1_OPENING REALLYDAMAGED RUBBLE
      Model           = UBArmDeal_A7E
      Animation       = UBArmDeal_A7E.UBArmDeal_A7E
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
    
    
    
    ConditionState    = DOOR_1_CLOSING
      Model           = UBArmDeal_A7
      Animation       = UBArmDeal_A7.UBArmDeal_A7
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING
    AliasConditionState = SNOW DOOR_1_CLOSING
    AliasConditionState = SNOW NIGHT DOOR_1_CLOSING
    
    ConditionState    = DOOR_1_CLOSING DAMAGED
      Model           = UBArmDeal_A7D
      Animation       = UBArmDeal_A7D.UBArmDeal_A7D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING DAMAGED
    AliasConditionState = SNOW NIGHT DOOR_1_CLOSING DAMAGED
    AliasConditionState = SNOW DOOR_1_CLOSING DAMAGED
    
    ConditionState    = DOOR_1_CLOSING REALLYDAMAGED RUBBLE
      Model           = UBArmDeal_A7E
      Animation       = UBArmDeal_A7E.UBArmDeal_A7E
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    
    
    
    ConditionState    = DOOR_1_WAITING_OPEN
      Model           = UBArmDeal_A7
      Animation       = UBArmDeal_A7.UBArmDeal_A7
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW NIGHT DOOR_1_WAITING_OPEN
    
    ConditionState    = DOOR_1_WAITING_OPEN DAMAGED
      Model           = UBArmDeal_A7D
      Animation       = UBArmDeal_A7D.UBArmDeal_A7D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN DAMAGED
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN DAMAGED
    AliasConditionState = SNOW NIGHT DOOR_1_WAITING_OPEN DAMAGED
    
    ConditionState    = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
      Model           = UBArmDeal_A7E
      Animation       = UBArmDeal_A7E.UBArmDeal_A7E
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
       
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UBArmDeal_A7
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = UBArmDeal_A7D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = UBArmDeal_A7E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************  
       
       
  End
  
  PlacementViewAngle  = -135
  
  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ArmsDealer
  Side             = GLA
  EditorSorting    = STRUCTURE
  Prerequisites
    Object = GLASupplyStash
  End
  BuildCost        = 2500
  BuildTime        = 25.0           ; in seconds
  EnergyProduction = 0
  CommandSet       = GLAArmsDealerCommandSet
  VisionRange     = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions          = None
    Armor               = StructureArmor
    DamageFX            = StructureDamageFXNoShake
  End
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = WarFactoryGLASelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = STRUCTURE
  KindOf            = PRELOAD STRUCTURE SELECTABLE IMMOBILE REPAIR_PAD CAPTURABLE FS_TECHNOLOGY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY SCORE_CREATE FS_FACTORY FS_WARFACTORY
  Body              = StructureBody ModuleTag_05
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior             = CreateObjectDie ModuleTag_08
    CreationList  = OCL_LargeStructureDebris
  End
  Behavior             = FXListDie ModuleTag_09
    DeathFX       = FX_StructureMediumDeath
  End
  Behavior = ProductionUpdate ModuleTag_10
    NumDoorAnimations            = 1
    DoorOpeningTime              = 2000  ;in mSeconds
    DoorWaitOpenTime             = 3000  ;in mSeconds
    DoorCloseTime                = 2000  ;in mSeconds
    ConstructionCompleteDuration = 1500  ;in mSeconds
  End
  Behavior = DefaultProductionExitUpdate ModuleTag_11
    UnitCreatePoint   = X: -20.0  Y:-15.0   Z:0.0
    NaturalRallyPoint = X: 40.0  Y:-15.0   Z:0.0 ;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End
  Behavior = RepairDockUpdate ModuleTag_12
    TimeForFullHeal   = 5000   ;(in milliseconds)     
    NumberApproachPositions = 5
  End

  Behavior = FlammableUpdate ModuleTag_14
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End
  
  
  Behavior = StructureCollapseUpdate ModuleTag_CollapseModule01
    MinCollapseDelay        = 400
    MaxCollapseDelay        = 800
    CollapseDamping         = 0.0
    MaxShudder              = 0.8 
    MinBurstDelay           = 400
    MaxBurstDelay           = 800
    BigBurstFrequency       = 6
    OCL                     = INITIAL   OCL_StructureCollapseInitial
    OCL                     = DELAY     OCL_StructureCollapseDelay
    OCL                     = FINAL     OCL_StructureCollapseFinal
    FXList                  = INITIAL   FX_StructureCollapseInitial
    FXList                  = DELAY     FX_StructureCollapseDelay
    FXList                  = BURST     FX_StructureCollapseBurst
    FXList                  = FINAL     FX_StructureCollapseFinal
    ExemptStatus            = UNDER_CONSTRUCTION
  End
  
  Behavior = SlowDeathBehavior ModuleTag_CollapseModule02
    DeathTypes                    = ALL
    DestructionDelay              = 1500   
  End
  
  Behavior = InstantDeathBehavior ModuleTag_CollapseModule03
    RequiredStatus = UNDER_CONSTRUCTION
  End

  Geometry            = BOX
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 62.0
  GeometryHeight      = 25.0
  GeometryIsSmall     = No
  FactoryExitWidth    = 25
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End

Object GLAWall

  ; *** ART Parameters ***
  SelectPortrait         = SUBarricade_L
  ButtonImage            = SUBarricade
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; day
    ConditionState = NONE
      Model         = UBBurnBarrY
      ParticleSysBone        = Fire01 FireBurningBarricade02
      ParticleSysBone        = Fire02 FireBurningBarricade02
      ParticleSysBone        = Smoke01 SmokeBurningBarricade02
      ParticleSysBone        = Smoke02 SmokeBurningBarricade02
    End
    ConditionState = DAMAGED
      Model         = UBBurnBarrY_D
    End
    ConditionState = REALLYDAMAGED RUBBLE
      Model         = UBBurnBarrY_E
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:BurningBarricade
  Side = GLA
  EditorSorting    = STRUCTURE

  BuildCost        = 100
  BuildTime        = 1.0           ; in seconds
  VisionRange      = 150.0           ; Shroud clearing distance
  ShroudClearingRange = 150
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
  ExperienceValue     = 50 50 50 50  ; Experience point value at each level

  FenceWidth      = 28  ; Spacing used by the fence tool in worldbuilder.
  FenceXOffset    = 0   ; Offset used by the fence tool in worldbuilder so corners line up.
  CrushableLevel  = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  ; *** AUDIO Parameters ***
  VoiceSelect = NoSound

  ; *** ENGINEERING Parameters ***
  KindOf          = PRELOAD STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE LINEBUILD DEFENSIVE_WALL
  Body            = StructureBody ModuleTag_02
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0
  End

  Behavior                 = DestroyDie ModuleTag_03
    ; none
  End
  Behavior                 = CreateObjectDie ModuleTag_04
    CreationList      = OCL_GenericWallSegmentDebris
  End
  Behavior                 = FXListDie ModuleTag_05
    DeathFX           = FX_GenericWallSegmentDeath
  End

  Geometry            = BOX
  GeometryMajorRadius = 11.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 12.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

Object GLAWallHub

  ; *** ART Parameters ***
  SelectPortrait         = SUBarricade_L
  ButtonImage            = SUBarricade
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; day
    ConditionState = NONE
      Model         = UBBurnBarrX
      ParticleSysBone        = Fire01 FireBurningBarricade02
      ParticleSysBone        = Smoke01 SmokeBurningBarricade02
      ParticleSysBone        = Smoke02 SmokeBurningBarricade02
    End
    ConditionState = DAMAGED
      Model         = UBBurnBarrX_D
    End
    ConditionState = REALLYDAMAGED RUBBLE
      Model         = UBBurnBarrX_E
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Wall
  Side = GLA
  EditorSorting    = STRUCTURE
  Prerequisites
    Object = GLABarracks
  End
  BuildCost        = 50
  BuildTime        = 1.0           ; in seconds
  VisionRange      = 150.0           ; Shroud clearing distance
  ShroudClearingRange = 150
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
  ExperienceValue     = 50 50 50 50  ; Experience point value at each level

  FenceWidth      = 20  ; Spacing used by the fence tool in worldbuilder.
  FenceXOffset    = 0   ; Offset used by the fence tool in worldbuilder so corners line up.
  CrushableLevel  = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  ; *** AUDIO Parameters ***
  VoiceSelect = NoSound

  ; *** ENGINEERING Parameters ***
  KindOf          = PRELOAD STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE LINEBUILD DEFENSIVE_WALL
  Body            = StructureBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior                 = DestroyDie ModuleTag_03
    ; none
  End
  Behavior                 = CreateObjectDie ModuleTag_04
    CreationList      = OCL_GenericWallSegmentDebris
  End
  Behavior                 = FXListDie ModuleTag_05
    DeathFX           = FX_GenericWallSegmentDeath
  End

  Geometry            = BOX
  GeometryMajorRadius = 4.0
  GeometryMinorRadius = 6.0
  GeometryHeight      = 12.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

Object GLABurningBarrier

  ; *** ART Parameters ***
  SelectPortrait         = SUBarricade_L
  ButtonImage            = SUBarricade
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; day
    ConditionState = NONE
      Model         = UBBurnBarr
    End
    ConditionState = ENEMYNEAR
      Model         = UBBurnBarr
      ParticleSysBone        = Fire01 FireBurningBarricade01
      ParticleSysBone        = Fire02 FireBurningBarricade01
      ParticleSysBone        = Fire03 FireBurningBarricade01
      ParticleSysBone        = Fire04 FireBurningBarricade01
      ParticleSysBone        = Smoke01 SmokeBurningBarricade01
      ParticleSysBone        = Smoke02 SmokeBurningBarricade01
      ParticleSysBone        = Smoke03 SmokeBurningBarricade01
      ParticleSysBone        = Smoke04 SmokeBurningBarricade01
    End

    ConditionState = DAMAGED
      Model         = UBBurnBarr_D
    End
    ConditionState = DAMAGED ENEMYNEAR
      Model         = UBBurnBarr_D
      ParticleSysBone        = Fire01 FireBurningBarricade01
      ParticleSysBone        = Fire02 FireBurningBarricade01
      ParticleSysBone        = Fire03 FireBurningBarricade01
      ParticleSysBone        = Fire04 FireBurningBarricade01
      ParticleSysBone        = Fire05 FireBurningBarricade01
      ParticleSysBone        = Fire06 FireBurningBarricade01
      ParticleSysBone        = Fire07 FireBurningBarricade01
      ParticleSysBone        = Smoke01 SmokeBurningBarricade01
      ParticleSysBone        = Smoke02 SmokeBurningBarricade01
      ParticleSysBone        = Smoke03 SmokeBurningBarricade01
      ParticleSysBone        = Smoke04 SmokeBurningBarricade01
      ParticleSysBone        = Smoke05 SmokeBurningBarricade01
      ParticleSysBone        = Smoke06 SmokeBurningBarricade01
      ParticleSysBone        = Smoke07 SmokeBurningBarricade01
    End

    ConditionState = REALLYDAMAGED RUBBLE
      Model         = UBBurnBarr_E
    End
    ConditionState = REALLYDAMAGED RUBBLE ENEMYNEAR
      Model         = UBBurnBarr_E
      ParticleSysBone        = Fire01 FireBurningBarricade01
      ParticleSysBone        = Fire02 FireBurningBarricade01
      ParticleSysBone        = Fire03 FireBurningBarricade01
      ParticleSysBone        = Fire04 FireBurningBarricade01
      ParticleSysBone        = Fire05 FireBurningBarricade01
      ParticleSysBone        = Fire06 FireBurningBarricade01
      ParticleSysBone        = Fire07 FireBurningBarricade01
      ParticleSysBone        = Smoke01 SmokeBurningBarricade01
      ParticleSysBone        = Smoke02 SmokeBurningBarricade01
      ParticleSysBone        = Smoke03 SmokeBurningBarricade01
      ParticleSysBone        = Smoke04 SmokeBurningBarricade01
      ParticleSysBone        = Smoke05 SmokeBurningBarricade01
      ParticleSysBone        = Smoke06 SmokeBurningBarricade01
      ParticleSysBone        = Smoke07 SmokeBurningBarricade01
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:BurningBarricade
  Side             = GLA
  EditorSorting    = STRUCTURE
  Prerequisites
    Object = GLABarracks
  End
  BuildCost        = 50
  BuildTime        = 2.0           ; in seconds
  VisionRange      = 50.0       ; Shroud clearing distance
  ShroudClearingRange = 50
  ArmorSet
    Conditions      = None
    Armor           = WallArmor
    DamageFX        = StructureDamageFXNoShake
  End

  FenceWidth      = 40  ; Spacing used by the fence tool in worldbuilder.
  FenceXOffset    = 0   ; Offset used by the fence tool in worldbuilder so corners line up.
  CrushableLevel  = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  ; *** AUDIO Parameters ***
  VoiceSelect = NoSound

  ; *** ENGINEERING Parameters ***
  KindOf          = PRELOAD STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE LINEBUILD DEFENSIVE_WALL
  Body            = StructureBody ModuleTag_02
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0
  End

  Behavior = EnemyNearUpdate ModuleTag_03
    ;nothing
  End

  Behavior = DestroyDie ModuleTag_04
    ;nothing
  End
  Behavior             = CreateObjectDie ModuleTag_05
    CreationList  = OCL_SmallStructureDebris
  End
  Behavior             = FXListDie ModuleTag_06
    DeathFX       = FX_SmallStructureDeath
  End
  Geometry            = BOX
  GeometryMajorRadius = 21.0
  GeometryMinorRadius = 7.0
  GeometryHeight      = 4.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End

Object GLAStingerSiteNoHole

  ; *** ART Parameters ***
  SelectPortrait         = SUStinger_L
  ButtonImage            = SUStinger
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    
    ; day ************************************
    ConditionState = NONE
      Model = UBStingerS
    End
    
    ConditionState = DAMAGED
      Model = UBStingerS_D
    End
    
    ConditionState = REALLYDAMAGED RUBBLE
      Model = UBStingerS_E
    End
    
    ConditionState       = AWAITING_CONSTRUCTION
      Model              = None
    End
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UBStingerS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    
    
    ; day snow ************************************
    ConditionState = SNOW
      Model = UBStingerS_S
    End
    
    ConditionState = DAMAGED SNOW
      Model = UBStingerS_DS
    End
    
    ConditionState = REALLYDAMAGED RUBBLE SNOW
      Model = UBStingerS_ES
    End
    
    ConditionState       = AWAITING_CONSTRUCTION SNOW
      Model              = None
    End
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = UBStingerS_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    
    ; night  **********************************
    ConditionState       = NIGHT 
      Model              = UBStingerS_N
    End
    
    ConditionState       = DAMAGED NIGHT 
      Model              = UBStingerS_DN
    End
    
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT 
      Model              = UBStingerS_EN
    End
    
    ConditionState       = AWAITING_CONSTRUCTION NIGHT 
      Model              = None
    End
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT 
      Model              = UBStingerS_N
      Animation          = None
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    
    
    ; night snow **********************************
    ConditionState       = NIGHT SNOW
      Model              = UBStingerS_NS
    End
    
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = UBStingerS_DNS
    End
    
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = UBStingerS_ENS
    End
    
    ConditionState       = AWAITING_CONSTRUCTION NIGHT SNOW
      Model              = None
    End
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = UBStingerS_NS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    
    
    
    
    ConditionState  = SOLD
      Model   = None
    End
    
    ConditionState  = SOLD SNOW
       Model   = NONE
    End    

    ConditionState  = SOLD NIGHT
       Model   = NONE
    End    

    ConditionState  = SOLD NIGHT SNOW
       Model   = NONE
    End   
  
  End
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
  
  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:StingerSite
  Side                = GLA
  EditorSorting       = STRUCTURE
  Prerequisites
    Object            = GLABarracks
  End
  BuildCost           = 900
  BuildTime           = 25.0           ; in seconds
  EnergyProduction    = 0
  VisionRange         = 600.0           ; Shroud clearing distance
  ShroudClearingRange = 400
  ArmorSet
    Conditions        = None
    Armor             = StingerSiteArmor
    DamageFX          = StructureDamageFXNoShake
  End
  CommandSet          = GLAStingerSiteCommandSet
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect         = StingerSiteSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority        = STRUCTURE
  KindOf               = PRELOAD STRUCTURE SELECTABLE IMMOBILE FS_BASE_DEFENSE IMMUNE_TO_CAPTURE SPAWNS_ARE_THE_WEAPONS SCORE_CREATE

  Body                 = HiveStructureBody ModuleTag_04 ;Requires SpawnBehavior!
    MaxHealth          = 1000.0
    InitialHealth      = 1000.0
    ;**Careful with these damage types -- because area damage types will already
    ;**damage slaves.
    PropagateDamageTypesToSlavesWhenExisting = NONE +SMALL_ARMS +SNIPER +POISON +RADIATION +SURRENDER
    SwallowDamageTypesIfSlavesNotExisting = NONE +SNIPER +POISON +SURRENDER; Take no damage if no one to pass this to

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = SpawnPointProductionExitUpdate ModuleTag_05
    SpawnPointBoneName = SpawnPoint
  End

  Behavior                = SpawnBehavior ModuleTag_06
    SpawnNumber           = 3
    SpawnReplaceDelay     = 30000 ;msec
    SpawnTemplateName     = GLAInfantryStingerSoldier
    CanReclaimOrphans     = No
    SpawnedRequireSpawner = Yes
    SlavesHaveFreeWill = No
  End

  Behavior        = DestroyDie ModuleTag_09
    ;<NO DATA>
  End
  Behavior        = CreateObjectDie ModuleTag_10
    CreationList  = OCL_ABStingerSiteDebris
  End
  Behavior        = FXListDie ModuleTag_11
    DeathFX       = FX_StructureSmallDeath
  End
  Behavior        = FireWeaponWhenDeadBehavior ModuleTag_12
    DeathWeapon   = StingerSiteDeathConcussion
    StartsActive  = Yes
  End

  Behavior                = FlammableUpdate ModuleTag_15
    AflameDuration        = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount    = 5       ; taking this much damage...
    AflameDamageDelay     = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_16
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Geometry            = CYLINDER
  GeometryMajorRadius = 36.0
  GeometryHeight      = 9.0    
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End

Object GLATankCameleon_MachinegunTurret

  ; *** ART Parameters ***
  
  Draw                    = W3DDependencyModelDraw ModuleTag_01
    AttachToBoneInContainer = FIREPOINT01

    DefaultConditionState        
      Model               = UVHetzer_MG
      Turret              = TURRET
      WeaponFireFXBone    = SECONDARY MGMuzzle
      WeaponLaunchBone    = SECONDARY MGMuzzle
      WeaponMuzzleFlash   = SECONDARY MGMuzzleFX
    End

    ConditionState        = REALLYDAMAGED         
      Model               = UVHetzer_MGD
    END
    
    ConditionState        = RUBBLE         
      Model               = UVHetzer_MGD
    END
    
  End


  ; ***DESIGN parameters ***
  Side             = GLA
  EditorSorting    = SYSTEM
  TransportSlotCount = 1
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY DummyWeapon
    AutoChooseSources = PRIMARY  NONE
    Weapon = SECONDARY CameleonMachineGun
  End

  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
  End
  
  VisionRange     = 150

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
    Body            = StructureBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = SECONDARY
      TurretTurnRate        = 180
      MinIdleScanAngle      = 10
      MaxIdleScanAngle      = 40
      MinIdleScanInterval   = 5000
      MaxIdleScanInterval   = 10000
    End
    AutoAcquireEnemiesWhenIdle = Yes 
    MoodAttackCheckRate = 500
  End

  Behavior             = DestroyDie ModuleTag_05
  End

  Geometry            = BOX
  GeometryMajorRadius = 6.0
  GeometryMinorRadius = 6.0
  GeometryHeight      = 10.0
  GeometryIsSmall     = No      
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End